
function viewErrorHide() {
  $('.data-viewer-error [data-toggle="collapse"]').attr('data-toggle','').on('click', function(e){
    $('#data-view-error').toggleClass('collapse');
  });
}

function addAltToAvatar () {
  var name = $('span.username').text();
  var user = $('img.gravatar');
  _updateAttribute(user, 'alt', (name || 'User' ) + ' profile image');
}

function addTitleToSearch () {
  var search = $('input.search');
  _updateAttribute(search, 'title', 'Search:');

  search = $('input#field-sitewide-search');
  _updateAttribute(search, 'title', 'Sitewide search:');
}

function addTextToI () {
  _addReaderTextToButtons('i.fa-times', 'Remove item');
  _addReaderTextToButtons('form.site-search  i.fa-search', 'Search');
}

function insertRequiredNoteBeforeForm () {
  $('.control-group').first().before($('.control-required-message'));
}

function textAfterDropdown () {
  var icon = $('.resource-item .dropdown-toggle i');
  icon.after($('<span>').addClass('visually-hidden').text(' show below'));
  $('.resource-item .dropdown').on('click', _onDropClick);
}

function correctNums() {
  _repTag('dl','p');
  _repTag('dt','span');
  _repTag('dd','span');
}

function navigationInH3() {
  $('.nav-tabs>li>a, .breadcrumb li a').each(function() {
    if (this.innerText && this.innerHTML){
      this.innerHTML = '<h3 class="nav-styled">' + this.innerHTML + '</h3>';
    }
    else{
      $(this).html( $('<h3 class="nav-styled">').html( $(this).html() ) );
    }
  });
}


function _updateAttribute (element, attr, value) {
  element.attr(attr, element.attr(attr) || value);
}

function _addReaderTextToButtons(selector, text){
  var self = $(selector);
  $(selector).html('<img src="" class="visually-hidden" alt="'+text+'"/>');
  if ( self.next().is('span') ) return;
  self.after($('<span>').addClass('visually-hidden').text(text));
}

function _onDropClick (event) {
  var self = $(this);
  var target = $(event.target).find('.visually-hidden');
  if (self.hasClass('open')){
    if (target.innerText) target.innerText = ' show below';
    else target.text(' show below');
  } else {
    if (target.innerText) target.innerText = ' hide below';
    else target.text(' hide below');
  }
}

function _repTag(old, updated) {
  $(old).each(function () {
    $(this).replaceWith( $('<'+updated+'>').html( $(this).html() ).addClass(old) );
  });
}

function gazSearch(gazURL) {
  var re = new RegExp("submit1=(.*\\d)(&|$)");
  var m = re.exec(gazURL);
  if (m != null) {
    gazID = m[1];
    $.getJSON("/api/2/util/gazetteer/latlon?q=" + gazID, function (data) {
      if (data.geojson != undefined) {
        $('#spatial').val(data.geojson);
      }
    });
  } else {
    var re2 = new RegExp("[a-zA-Z].*\\d");
    var m2 = re2.exec(gazURL);
    if (m2 != null) {
      gazID = m2[0];
      $.getJSON("/api/2/util/gazetteer/latlon?q=" + gazID, function (data) {
        if (data.geojson != undefined) {
          $('#spatial').val(data.geojson);
        }
      });
    }
  }
}

function initTooltips() {
  $('[data-toggle="tooltip"]').tooltip();
}

window.onload = function () {
  addAltToAvatar();
  addTextToI();
  addTitleToSearch();
  insertRequiredNoteBeforeForm();
  textAfterDropdown();
  correctNums();
  navigationInH3();
  viewErrorHide();
  initTooltips();

  $("#field-spatial_coverage").change(function (e) {
    gazURL = e.target.value;
    gazSearch(gazURL);
  });
  $("#field-format").change(function (e) {
    if( e.target.value.toLowerCase() == 'wms') {
      $("#wms_layer").show();
    } else {
      $("#wms_layer").hide();
    }
  });

  if( $("#field-format").val() && $("#field-format").val().toLowerCase() == 'wms') {
    $("#wms_layer").show();
  } else {
    $("#wms_layer").hide();
  }

  gazSearch($("#field-spatial_coverage").val());
  $(function() {
    if ($( "#field-temporal_coverage-from").datepicker) {
      $("#field-temporal_coverage-from").datepicker();
    }
    if ($( "#field-temporal_coverage-to").datepicker) {
      $("#field-temporal_coverage-to").datepicker();
    }
    if ($( "#field-last_modified").datepicker) {
      $("#field-last_modified").datepicker();
    }
  });
  if (typeof rssfeedsetup !== "undefined") {
    rssfeedsetup();
  }
}

jQuery(document).ready(function($) {
  /* Show Advanced Search Fields */

  $('#show-advanced-fields').on('click', function() {
    $(this).toggleClass('is-active');
    $('#advanced-search').slideToggle();
  })

})

function searchToObject(search_str) {
  var pairs = search_str.substring(1).split('&'),
      obj = {};
  for ( i in pairs ) {
    if ( pairs[i] === "" ) continue;
    pair = pairs[i].split("=");
    obj[ decodeURIComponent( pair[0] ) ] = decodeURIComponent( pair[1] );
  };
  return obj
}

function objectToSearch(params) {
  var arr = [],
      str = '?';
  for ( i in params ) {
    arr.push(i+'='+params[i]);
  };
  str += arr.join('&');
  return str
}

var data_count = $('.pagiantion-top').attr('data-count');
var pages_count = Math.ceil(data_count / 20);
if (pages_count > 10) {
  $('.pagination').append(
    "<div class='pagination-go-to'>\
    Go to page\
    <input type='text'>\
    <button>Go</button>\
    </div>"
  );

  var params = searchToObject(window.location.search);

  $('.pagination-go-to button').on('click', function() {
    var page = $(this).prev()[0].value;
    if (page) {
      params['page'] = page;
      window.location.replace(objectToSearch(params));
    };
  });

  $('.pagination-go-to input[type="text"]').keydown(function(e){
    var keyCode = (e.keyCode ? e.keyCode : e.which);
    if (keyCode == 13 && this.value) {
      params['page'] = this.value;
      window.location.replace(objectToSearch(params));
    };
  });
}

!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.Handlebars=b():a.Handlebars=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(){var a=new h.HandlebarsEnvironment;return n.extend(a,h),a.SafeString=j["default"],a.Exception=l["default"],a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=p,a.template=function(b){return p.template(b,a)},a}var e=c(1)["default"],f=c(2)["default"];b.__esModule=!0;var g=c(3),h=e(g),i=c(20),j=f(i),k=c(5),l=f(k),m=c(4),n=e(m),o=c(21),p=e(o),q=c(33),r=f(q),s=d();s.create=d,r["default"](s),s["default"]=s,b["default"]=s,a.exports=b["default"]},function(a,b){"use strict";b["default"]=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b},b.__esModule=!0},function(a,b){"use strict";b["default"]=function(a){return a&&a.__esModule?a:{"default":a}},b.__esModule=!0},function(a,b,c){"use strict";function d(a,b,c){this.helpers=a||{},this.partials=b||{},this.decorators=c||{},i.registerDefaultHelpers(this),j.registerDefaultDecorators(this)}var e=c(2)["default"];b.__esModule=!0,b.HandlebarsEnvironment=d;var f=c(4),g=c(5),h=e(g),i=c(9),j=c(17),k=c(19),l=e(k),m="4.0.10";b.VERSION=m;var n=7;b.COMPILER_REVISION=n;var o={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};b.REVISION_CHANGES=o;var p="[object Object]";d.prototype={constructor:d,logger:l["default"],log:l["default"].log,registerHelper:function(a,b){if(f.toString.call(a)===p){if(b)throw new h["default"]("Arg not supported with multiple helpers");f.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(f.toString.call(a)===p)f.extend(this.partials,a);else{if("undefined"==typeof b)throw new h["default"]('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if(f.toString.call(a)===p){if(b)throw new h["default"]("Arg not supported with multiple decorators");f.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]}};var q=l["default"].log;b.log=q,b.createFrame=f.createFrame,b.logger=l["default"]},function(a,b){"use strict";function c(a){return k[a]}function d(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function e(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}function f(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return m.test(a)?a.replace(l,c):a}function g(a){return!a&&0!==a||!(!p(a)||0!==a.length)}function h(a){var b=d({},a);return b._parent=a,b}function i(a,b){return a.path=b,a}function j(a,b){return(a?a+".":"")+b}b.__esModule=!0,b.extend=d,b.indexOf=e,b.escapeExpression=f,b.isEmpty=g,b.createFrame=h,b.blockParams=i,b.appendContextPath=j;var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},l=/[&<>"'`=]/g,m=/[&<>"'`=]/,n=Object.prototype.toString;b.toString=n;var o=function(a){return"function"==typeof a};o(/x/)&&(b.isFunction=o=function(a){return"function"==typeof a&&"[object Function]"===n.call(a)}),b.isFunction=o;var p=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===n.call(a)};b.isArray=p},function(a,b,c){"use strict";function d(a,b){var c=b&&b.loc,g=void 0,h=void 0;c&&(g=c.start.line,h=c.start.column,a+=" - "+g+":"+h);for(var i=Error.prototype.constructor.call(this,a),j=0;j<f.length;j++)this[f[j]]=i[f[j]];Error.captureStackTrace&&Error.captureStackTrace(this,d);try{c&&(this.lineNumber=g,e?Object.defineProperty(this,"column",{value:h,enumerable:!0}):this.column=h)}catch(k){}}var e=c(6)["default"];b.__esModule=!0;var f=["description","fileName","lineNumber","message","name","number","stack"];d.prototype=new Error,b["default"]=d,a.exports=b["default"]},function(a,b,c){a.exports={"default":c(7),__esModule:!0}},function(a,b,c){var d=c(8);a.exports=function(a,b,c){return d.setDesc(a,b,c)}},function(a){var b=Object;a.exports={create:b.create,getProto:b.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:b.getOwnPropertyDescriptor,setDesc:b.defineProperty,setDescs:b.defineProperties,getKeys:b.keys,getNames:b.getOwnPropertyNames,getSymbols:b.getOwnPropertySymbols,each:[].forEach}},function(a,b,c){"use strict";function d(a){g["default"](a),i["default"](a),k["default"](a),m["default"](a),o["default"](a),q["default"](a),s["default"](a)}var e=c(2)["default"];b.__esModule=!0,b.registerDefaultHelpers=d;var f=c(10),g=e(f),h=c(11),i=e(h),j=c(12),k=e(j),l=c(13),m=e(l),n=c(14),o=e(n),p=c(15),q=e(p),r=c(16),s=e(r)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(4);b["default"]=function(a){a.registerHelper("blockHelperMissing",function(b,c){var e=c.inverse,f=c.fn;if(b===!0)return f(this);if(b===!1||null==b)return e(this);if(d.isArray(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):e(this);if(c.data&&c.ids){var g=d.createFrame(c.data);g.contextPath=d.appendContextPath(c.data.contextPath,c.name),c={data:g}}return f(b,c)})},a.exports=b["default"]},function(a,b,c){"use strict";var d=c(2)["default"];b.__esModule=!0;var e=c(4),f=c(5),g=d(f);b["default"]=function(a){a.registerHelper("each",function(a,b){function c(b,c,f){j&&(j.key=b,j.index=c,j.first=0===c,j.last=!!f,k&&(j.contextPath=k+b)),i+=d(a[b],{data:j,blockParams:e.blockParams([a[b],b],[k+b,null])})}if(!b)throw new g["default"]("Must pass iterator to #each");var d=b.fn,f=b.inverse,h=0,i="",j=void 0,k=void 0;if(b.data&&b.ids&&(k=e.appendContextPath(b.data.contextPath,b.ids[0])+"."),e.isFunction(a)&&(a=a.call(this)),b.data&&(j=e.createFrame(b.data)),a&&"object"==typeof a)if(e.isArray(a))for(var l=a.length;l>h;h++)h in a&&c(h,h,h===a.length-1);else{var m=void 0;for(var n in a)a.hasOwnProperty(n)&&(void 0!==m&&c(m,h-1),m=n,h++);void 0!==m&&c(m,h-1,!0)}return 0===h&&(i=f(this)),i})},a.exports=b["default"]},function(a,b,c){"use strict";var d=c(2)["default"];b.__esModule=!0;var e=c(5),f=d(e);b["default"]=function(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new f["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(4);b["default"]=function(a){a.registerHelper("if",function(a,b){return d.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||d.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})},a.exports=b["default"]},function(a,b){"use strict";b.__esModule=!0,b["default"]=function(a){a.registerHelper("log",function(){for(var b=[void 0],c=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)b.push(arguments[d]);var e=1;null!=c.hash.level?e=c.hash.level:c.data&&null!=c.data.level&&(e=c.data.level),b[0]=e,a.log.apply(a,b)})},a.exports=b["default"]},function(a,b){"use strict";b.__esModule=!0,b["default"]=function(a){a.registerHelper("lookup",function(a,b){return a&&a[b]})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(4);b["default"]=function(a){a.registerHelper("with",function(a,b){d.isFunction(a)&&(a=a.call(this));var c=b.fn;if(d.isEmpty(a))return b.inverse(this);var e=b.data;return b.data&&b.ids&&(e=d.createFrame(b.data),e.contextPath=d.appendContextPath(b.data.contextPath,b.ids[0])),c(a,{data:e,blockParams:d.blockParams([a],[e&&e.contextPath])})})},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){g["default"](a)}var e=c(2)["default"];b.__esModule=!0,b.registerDefaultDecorators=d;var f=c(18),g=e(f)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(4);b["default"]=function(a){a.registerDecorator("inline",function(a,b,c,e){var f=a;return b.partials||(b.partials={},f=function(e,f){var g=c.partials;c.partials=d.extend({},g,b.partials);var h=a(e,f);return c.partials=g,h}),b.partials[e.args[0]]=e.fn,f})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(4),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=d.indexOf(e.methodMap,a.toLowerCase());a=b>=0?b:parseInt(a,10)}return a},log:function(a){if(a=e.lookupLevel(a),"undefined"!=typeof console&&e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||(b="log");for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;c>f;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};b["default"]=e,a.exports=b["default"]},function(a,b){"use strict";function c(a){this.string=a}b.__esModule=!0,c.prototype.toString=c.prototype.toHTML=function(){return""+this.string},b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=s.COMPILER_REVISION;if(b!==c){if(c>b){var d=s.REVISION_CHANGES[c],e=s.REVISION_CHANGES[b];throw new r["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new r["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){function c(c,d,e){e.hash&&(d=p.extend({},d,e.hash),e.ids&&(e.ids[0]=!0)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split("\n"),h=0,i=g.length;i>h&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join("\n")}return f}throw new r["default"]("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){function c(b){return""+a.main(e,b,e.helpers,e.partials,g,i,h)}var f=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],g=f.data;d._setup(f),!f.partial&&a.useData&&(g=j(b,g));var h=void 0,i=a.useBlockParams?[]:void 0;return a.useDepths&&(h=f.depths?b!=f.depths[0]?[b].concat(f.depths):f.depths:[b]),(c=k(a.main,c,e,f.depths||[],g,i))(b,f)}if(!b)throw new r["default"]("No environment passed to template");if(!a||!a.main)throw new r["default"]("Unknown template object: "+typeof a);a.main.decorator=a.main_d,b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(!(b in a))throw new r["default"]('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,d=0;c>d;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:p.escapeExpression,invokePartial:c,fn:function(b){var c=a[b];return c.decorator=a[b+"_d"],c},programs:[],program:function(a,b,c,d,e){var g=this.programs[a],h=this.fn(a);return b||e||d||c?g=f(this,a,h,b,c,d,e):g||(g=this.programs[a]=f(this,a,h)),g},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=p.extend({},b,a)),c},nullContext:l({}),noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials,e.decorators=c.decorators):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)),(a.usePartial||a.useDecorators)&&(e.decorators=e.merge(c.decorators,b.decorators)))},d._child=function(b,c,d,g){if(a.useBlockParams&&!d)throw new r["default"]("must pass block params");if(a.useDepths&&!g)throw new r["default"]("must pass parent depths");return f(e,b,a[b],c,0,d,g)},d}function f(a,b,c,d,e,f,g){function h(b){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g;return!g||b==g[0]||b===a.nullContext&&null===g[0]||(h=[b].concat(g)),c(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),h)}return h=k(c,h,a,g,d,f),h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function g(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],a}function h(a,b,c){var d=c.data&&c.data["partial-block"];c.partial=!0,c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var e=void 0;if(c.fn&&c.fn!==i&&!function(){c.data=s.createFrame(c.data);var a=c.fn;e=c.data["partial-block"]=function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return c.data=s.createFrame(c.data),c.data["partial-block"]=d,a(b,c)},a.partials&&(c.partials=p.extend({},c.partials,a.partials))}(),void 0===a&&e&&(a=e),void 0===a)throw new r["default"]("The partial "+c.name+" could not be found");return a instanceof Function?a(b,c):void 0}function i(){return""}function j(a,b){return b&&"root"in b||(b=b?s.createFrame(b):{},b.root=a),b}function k(a,b,c,d,e,f){if(a.decorator){var g={};b=a.decorator(b,g,c,d&&d[0],e,f,d),p.extend(b,g)}return b}var l=c(22)["default"],m=c(1)["default"],n=c(2)["default"];b.__esModule=!0,b.checkRevision=d,b.template=e,b.wrapProgram=f,b.resolvePartial=g,b.invokePartial=h,b.noop=i;var o=c(4),p=m(o),q=c(5),r=n(q),s=c(3)},function(a,b,c){a.exports={"default":c(23),__esModule:!0}},function(a,b,c){c(24),a.exports=c(29).Object.seal},function(a,b,c){var d=c(25);c(26)("seal",function(a){return function(b){return a&&d(b)?a(b):b}})},function(a){a.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},function(a,b,c){var d=c(27),e=c(29),f=c(32);a.exports=function(a,b){var c=(e.Object||{})[a]||Object[a],g={};g[a]=b(c),d(d.S+d.F*f(function(){c(1)}),"Object",g)}},function(a,b,c){var d=c(28),e=c(29),f=c(30),g="prototype",h=function(a,b,c){var i,j,k,l=a&h.F,m=a&h.G,n=a&h.S,o=a&h.P,p=a&h.B,q=a&h.W,r=m?e:e[b]||(e[b]={}),s=m?d:n?d[b]:(d[b]||{})[g];m&&(c=b);for(i in c)j=!l&&s&&i in s,j&&i in r||(k=j?s[i]:c[i],r[i]=m&&"function"!=typeof s[i]?c[i]:p&&j?f(k,d):q&&s[i]==k?function(a){var b=function(b){return this instanceof a?new a(b):a(b)};return b[g]=a[g],b}(k):o&&"function"==typeof k?f(Function.call,k):k,o&&((r[g]||(r[g]={}))[i]=k))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,a.exports=h},function(a){var b=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=b)},function(a){var b=a.exports={version:"1.2.6"};"number"==typeof __e&&(__e=b)},function(a,b,c){var d=c(31);a.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(a){a.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(a){a.exports=function(a){try{return!!a()}catch(b){return!0}}},function(a,b){(function(c){"use strict";b.__esModule=!0,b["default"]=function(a){var b="undefined"!=typeof c?c:window,d=b.Handlebars;a.noConflict=function(){return b.Handlebars===a&&(b.Handlebars=d),a}},a.exports=b["default"]}).call(b,function(){return this}())}])});var GlsFedRegister=function(a){var b={renderPartial:function(b,c){if(!b)return console.error("No partial name given."),"";var d=caBoootstrapCore.Templates[b];if(!d)return console.error("Couldnt find the compiled partial: "+b),"";var e=d(c.hash),f=document.createElement("div");f.innerHTML=e;var g=f.querySelector("script"),h=g.innerHTML;return new a.SafeString(h)},is:function(a,b,c){if(arguments.length<3){var d=this.context.view.path;return console.log("{{is}} helper is missing an argument. start by looking in: "+d),""}return a===b?c.fn(this):c.inverse(this)},isnot:function(a,b,c){return a!==b?c.fn(this):""},islike:function(a,b,c){if(arguments.length<3){var d=this.context.view.path;return console.log("{{is}} helper is missing an argument. start by looking in: "+d),""}return a.toLowerCase().indexOf(b.toLowerCase())>=0?c.fn(this):c.inverse(this)},isnotlike:function(a,b,c){if(arguments.length<3){var d=this.context.view.path;return console.log("{{is}} helper is missing an argument. start by looking in: "+d),""}return a.toLowerCase().indexOf(b.toLowerCase())<0?c.fn(this):c.inverse(this)},concat:function(){var a=Array.prototype.slice.call(arguments,0);return a.pop(),a.join(" ")},makeIdFromText:function(b){return b=a.Utils.escapeExpression(b),b=b.replace(/( )/gm,"-").toLowerCase(),new a.SafeString(b)},foreach:function(a,b){return b.inverse&&!a.length?b.inverse(this):a.map(function(c,d){return c.$index=d+1,c.$rowID=d,c.$half=d===Math.ceil(a.length/2),c.$last=d===a.length-1,c.$dataToJson=JSON.stringify(a[d]).toString(),b.fn(c)}).join("")}};if(!a||"function"!=typeof a.registerHelper)return b;for(var c in b)a.registerHelper(c,b[c])};"undefined"!=typeof window?GlsFedRegister(Handlebars):(module.exports.register=GlsFedRegister,module.exports.helpers=GlsFedRegister(null));var caBoootstrapCore={functions:[],applets:{},forms:{},settings:{}};caBoootstrapCore.functions.renderApplets=function(a){var b=a,c=caBoootstrapCore.Templates[b.appletName],d=c(b.jsonObject),e=document.createElement("div");e.innerHTML=d;var f=e.querySelector("script"),g=f.innerHTML;return g},caBoootstrapCore.functions.removeSpaceFromKeys=function(a){return $.each(a,function(){var a=this;$.each(a,function(b,c){var d=b.replace(/ /g,"");"string"==typeof c&&(a[d]=$.trim(c)),d!==b&&delete a[b]})}),a},caBoootstrapCore.initcore=function(a){"use strict";var b=window.location.host,c="",d="";""===b?(b="complainassistiframe.azurewebsites.net",c=document.body.getAttribute("attr-global-path"),console.log(c),d="https://feedbackassist.uat.onegov.nsw.gov.au/complainapi_uat"):(a.toLowerCase().indexOf("/feedbackassist_sit")>=0?(c="//uat-m.onegov.nsw.gov.au/feedbackassist/",d="https://feedbackassist.uat.onegov.nsw.gov.au/feedbackassist_sit"):a.toLowerCase().indexOf("/feedbackassist_uat")>=0||a.toLowerCase().indexOf("/complainapi_uat")>=0?(c="//uat-m.onegov.nsw.gov.au/cdn/feedbackassist/",d="https://feedbackassist.uat.onegov.nsw.gov.au/complainapi_uat"):a.toLowerCase().indexOf("complaintassistapi.onegov.nsw.gov.au")>=0||a.toLowerCase().indexOf("feedbackassist.onegov.nsw.gov.au")>=0||a.toLowerCase().indexOf("feedbackassistapi.onegov.nsw.gov.au")>=0?(c="//onegov.nsw.gov.au/cdn/feedbackassist/",d="https://feedbackassist.onegov.nsw.gov.au"):(c="//onegov.nsw.gov.au/cdn/feedbackassist/",d="//feedbackassist.onegov.nsw.gov.au"),console.log(c),console.log(d)),caBoootstrapCore.settings={environmentUrl:d,widgetData:d+"/api/widgetdata?domain="+b,sendCase:d+"/api/SendCase",clientDoamin:b,help:d+"/api/getarticles?search=",imgLoading:c+"/images/loading.gif",widgetAssetsPath:c,autoCompleteIframe:d+"/api/LocationAutocomplete"};var e=function(){caBoootstrapCore.functions.common.injectJS("https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/components/core-min.js",function(){caBoootstrapCore.functions.common.injectJS("https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/components/enc-base64-min.js",function(){caBoootstrapCore.functions.common.injectJS("https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/hmac-sha256.js")})}),caBoootstrapCore.functions.common.callApiWithAjax(caBoootstrapCore.settings.widgetData,function(a){var b=JSON.parse(a);if("NOT A VALID DOMAIN"===b)return"Not a valid Domain";var c=b.configuration.Primary_Colour__c,d=b.configuration.Secondary_Colour__c,e=".fba-db-primary-color{background:"+c+"!important;}.fba-db-secondary-color{background:"+d+"!important;}.fba-db-primary-color.fba-nav button.active .fba-fa, .fba-db-primary-color.fba-nav button:hover .fba-fa{color:"+c+"!important}";caBoootstrapCore.functions.common.injectCSS(e),caBoootstrapCore.applets.feedback.render(b),(null!==b.configuration.Widget_Position__c||""!==b.configuration.Widget_Position__c)&&caBoootstrapCore.functions.common.setNavigationPosition("single-navigation",b.configuration.Widget_Position__c),caBoootstrapCore.functions.common.detectBrowserHeightToFitForWidget(640),document.getElementById("hidden-fba-page-url").value=window.location,caBoootstrapCore.functions.validation.init()})};e()},caBoootstrapCore.functions.common=function(){"use strict";var a=function(){},b=function(a){var b=document.createElement("link");b.href=a,b.type="text/css",b.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(b)},c=function(a){var b=document.createElement("style");b.innerHTML=a,document.body.appendChild(b)},d=function(a,b){var c=document.getElementById(a);c.style.setProperty("top",b+"%","important")},e=function(a){return a.toLowerCase().replace(/\b./g,function(a){return a.toUpperCase()})},f=function(a,b){var c=document.createElement("script");c.src=a,c.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(c),c.onload=function(){void 0!==b&&b()}},g=function(a,b){var c=new XMLHttpRequest;c.onreadystatechange=function(){4===this.readyState&&200===this.status&&b(this.responseText)},c.open("GET",a,!0),c.send()},h=function(a,b){var c=document.getElementById(b),d=document.getElementById(b).nextSibling.id,e=document.getElementById(d),f=a-c.value.length;e.innerHTML=f,0===c.value.length?e.classList.remove("fba-span-maxlength-show"):e.classList.add("fba-span-maxlength-show"),a-c.value.length<100?e.classList.add("fba-span-maxlength-close"):e.classList.remove("fba-span-maxlength-close")},i=function(a,b){console.log(b);var c=document.getElementById(b).parentNode;c.parentNode.insertBefore(a,c.nextSibling)},j=function(a,b){window.setTimeout(function(){var c=document.getElementById(a);c.focus(),b===!0&&c.scrollIntoView()},400)},k=function(a){var b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;b>=c&&a>c?document.getElementById("onegov-feedback-assist-modal").classList.add("scrollable-widget"):document.getElementById("onegov-feedback-assist-modal").classList.remove("scrollable-widget")},l=function(a){var b=a.parentNode,c=b.getElementsByClassName("fm-feedback_recommendations")[0],d=a.value,e=document.getElementById("hidden-fba-feedback-recordType").value;if(""!==d.trim()){var f=caBoootstrapCore.settings.help+window.encodeURIComponent(d)+"&recordType="+window.encodeURIComponent(e);caBoootstrapCore.functions.common.callApiWithAjax(f,function(a){var b=window.decodeURIComponent(JSON.parse(a.toString()));b=b.replace("Suggestions","Suggested Articles"),b=b.replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\//g,"%2F").replace(/%3Cli%3E%3Ca href/g,'%3Cli%3E%3Ci class="fba-fa fba-fainfo-with-circle"%3E%3C%2Fi%3E%3Ca href'),c.innerHTML=decodeURIComponent(b)})}else c.innerHTML=""},m=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},n=function(){var a=(m()+m()+"-"+m()+"-4"+m().substr(0,3)+"-"+m()+"-"+m()+m()+m()).toLowerCase(),b=CryptoJS.HmacSHA256(a,"D8B4E16A-DE76-46EF-B67C-2C67B9466241"),c=CryptoJS.enc.Base64.stringify(b),d=a+";"+c;return d};return{init:a,injectCSSFile:b,injectCSS:c,callApiWithAjax:g,setNavigationPosition:d,injectJS:f,CamelCase:e,focusElement:j,countCharacters:h,insertAfter:i,detectBrowserHeightToFitForWidget:k,bindHelpEvent:l,createGUID_HASH:n}}(),caBoootstrapCore.functions.validation=function(){"use strict";var a=function(){d()},b=function(a){var b=document.getElementById(a).value;return null===b||""===b.trim()?!0:!1},c=function(a){var b=document.querySelector('input[name="'+a+'"]:checked');return null===b?!1:!0},d=function(){for(var a=document.querySelectorAll("[fba-max-length]"),b=0;b<a.length;b++){var c=a[b],d=document.createElement("span"),e=document.createTextNode("3000");d.id="fba-max-length"+b,d.setAttribute("aria-hidden","true"),d.setAttribute("class","fba-span-maxlength"),d.appendChild(e),c.parentNode.insertBefore(d,c.nextSibling),c.addEventListener("keyup",function(){var a=this,b=a.id,c=a.getAttribute("fba-max-length");caBoootstrapCore.functions.common.countCharacters(c,b)})}},e=function(){for(var a=document.querySelectorAll(".fba-span-maxlength"),b=0;b<a.length;b++){var c=a[b];c.classList.remove("fba-span-maxlength-close"),c.classList.remove("fba-span-maxlength-show"),c.innerHTML="3000"}},f=function(a){var b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)},g=function(a){return null!=a.match(/^[0-9]+$/)},h=function(a,b){var c=[".txt",".pdf",".rtf",".docx",".doc",".jpg",".jpeg",".bmp",".gif",".png"],d=document.getElementById(b);if("file"===a.type){var e=a.value;if(e.length>0){for(var f=!1,g=0;g<c.length;g++){var h=c[g];if(e.substr(e.length-h.length,h.length).toLowerCase()===h.toLowerCase()){f=!0;break}}if(!f)return d.innerHTML="File formats which are accepted: gif, txt, pdf, rtf, docx, doc, jpg, jpeg, png, bmp",d.classList.remove("fba-hidden"),a.value="",caBoootstrapCore.functions.common.focusElement(a.getAttribute("id"),!0),!1;d.classList.add("fba-hidden");if(parseInt(a.files[0].size)>2097152)return d.innerHTML="Maximum file size accepted - 2MB",d.classList.remove("fba-hidden"),a.value="",caBoootstrapCore.functions.common.focusElement(a.getAttribute("id"),!0),!1;d.classList.add("fba-hidden")}}return!0};return{init:a,isEmpty:b,isRadioSelected:c,isEmailValid:f,isNumeric:g,validateFile:h,resetLengthValidaton:e}}(),caBoootstrapCore.applets.feedback=function(){"use strict";var a=function(a){var b="",c={appletName:"feedback",jsonObject:{appletData:a}};b=caBoootstrapCore.functions.renderApplets(c);var d=document.createElement("div");d.setAttribute("id","onegov-fba-wrapper"),d.innerHTML=b,document.body.appendChild(d),caBoootstrapCore.applets.navigation.init(),caBoootstrapCore.applets.contactNavigation.init(),caBoootstrapCore.applets.panelFeedbackCompliment.init(),caBoootstrapCore.applets.panelFeedbackComplaint.init(),caBoootstrapCore.applets.panelFeedbackSuggestion.init(),caBoootstrapCore.applets.panelFeedbackAdditional.init()};return{render:a}}(),caBoootstrapCore.applets.contactNavigation=function(){"use strict";var a=function(){b()},b=function(){window.addEventListener("focus",function(){});for(var a=document.getElementById("fba-contact-navigation").getElementsByTagName("button"),b=0,d=a.length;d>b;b++){var e=a[b];e.addEventListener("click",function(){c(this)})}},c=function(a){var b=document.getElementById("fba-contact-navigation").querySelectorAll("button.active");b.length>0&&(b[0].classList.remove("active"),b[0].setAttribute("aria-selected","false"));var c=document.querySelectorAll(".fba-panel.active:not(.fba-panel-child)");if(c.length>0&&c[0].classList.remove("active"),"fba-chatTabButton"===a.id){console.log("IS CHAT");var d=document.getElementById("iframeChat"),e=document.getElementById("chatURL");d.src=e.value}a.classList.add("active"),a.setAttribute("aria-selected","true");var f=a.getAttribute("attr-panel-id");if(document.getElementById(f).classList.add("active"),"fba-panel-feedback"===f){var g=document.getElementById(f).querySelectorAll(".fba-panel-child.active");if(void 0!==g[0]){var h=g[0].getElementsByTagName("textarea");caBoootstrapCore.functions.common.focusElement(h[0].getAttribute("id"),!0)}}else{var i=document.getElementById(f).querySelectorAll("h2");void 0!==i[0]&&i[0].focus()}};return{init:a}}(),caBoootstrapCore.applets.navigation=function(){"use strict";var a,b=function(){c(),h(),f(),l(),n("fba-panel-mobile-navigation"),n("fba-panel-mobile-top-navigation")},c=function(){var a=document.getElementById("fba-modal-close");a.addEventListener("click",function(){e(this)});for(var b,c=document.getElementById("fba-contact-navigation").getElementsByTagName("button"),f=0,g=c.length;g>f;f++){var h=c[f];0===f&&(b=h),h.addEventListener("keydown",function(a){d(this,a)},!0)}a.addEventListener("keydown",function(a){a.shiftKey===!0&&9===a.keyCode,a.shiftKey===!1&&9===a.keyCode&&(b.focus(),a.preventDefault())})},d=function(a,b){if(b.shiftKey===!0&&9===b.keyCode){var c=a.previousSibling;null===c?document.getElementById("fba-modal-close").focus():c.focus()}if(b.shiftKey===!1&&9===b.keyCode){var d=a.nextSibling;null===d?document.getElementById("fba-nav-btn-compliment-panel").focus():d.focus()}13===b.keyCode&&a.click(),b.preventDefault()},e=function(){caBoootstrapCore.applets.panelFeedbackAdditional.fixLongContentScroll(!1),r(),p(!1),caBoootstrapCore.applets.panelFeedbackAdditional.resetForm(),document.getElementById("fba-modal-wrapper").classList.remove("open");var a=document.getElementById("single-navigation");a.classList.remove("fba-hidden"),a.classList.remove("pre-active");var b="panel-navigation",c=(document.getElementById(b),document.getElementById(b).querySelectorAll("button.active"));if(c.length>0){var d=c[0].getAttribute("common-id"),e=document.querySelectorAll("#single-navigation *[common-id='"+d+"']");caBoootstrapCore.functions.common.focusElement(e[0].getAttribute("id"))}},f=function(){var a=document.querySelectorAll("#single-navigation .fba-nav-label");a[0].addEventListener("click",function(){g()}),a[0].addEventListener("focus",function(){window.innerWidth<1200&&g()},!0)},g=function(){{var a="single-navigation",b=document.getElementById(a),c=b.querySelector("button"),d=c.getAttribute("id"),e=b.querySelector("#"+d);document.getElementById("fba-panel-mobile-navigation")}window.innerWidth>767&&window.innerWidth<1200?b.classList.add("pre-active"):e.click(),window.setTimeout(function(){document.getElementById("fba-nav-btn-compliment-mobile").focus()},400)},h=function(){for(var a="panel-navigation",b=document.getElementById(a).getElementsByTagName("button"),c=0,d=b.length;d>c;c++){var e=b[c];e.addEventListener("click",function(){i(this,a)})}},i=function(a,b){p(!0);var c=document.getElementById(b).querySelectorAll("button.active");c.length>0&&(c[0].classList.remove("active"),c[0].setAttribute("aria-selected","false"));var d=document.querySelectorAll(".fba-panel.active");d.length>0&&d[0].classList.remove("active"),d.length>1&&d[1].classList.remove("active");var e=a.getAttribute("attr-type");document.getElementById("hidden-fba-case-type").value=e,document.getElementById("fba-panel-feedback-additional").classList.remove("suggestion-only"),document.querySelector('button[attr-panel-id="fba-panel-feedback"]').click(),a.classList.add("active"),a.setAttribute("aria-selected","true"),j(a.getAttribute("common-id"));var f=a.getAttribute("attr-panel-id");document.getElementById(f).classList.add("active");var g=document.getElementById(f);if(g.length>0&&g[0].classList.remove("fba-hidden"),caBoootstrapCore.applets.panelFeedbackAdditional.resetForm(),k(a),navigator.userAgent.indexOf("Android")<0&&navigator.userAgent.indexOf("iPhone")<0){var h=document.getElementById(f).getElementsByTagName("textarea");caBoootstrapCore.functions.common.focusElement(h[0].getAttribute("id"))}},j=function(a){var b="fba-panel-mobile-top-navigation",c=document.getElementById(b),d=document.getElementById(b).querySelectorAll("button.active");d.length>0&&(d[0].classList.remove("active"),d[0].setAttribute("aria-selected","false"));var e=c.querySelector("#"+a+"-mobile-top");e.classList.add("active"),e.setAttribute("aria-selected","true"),k(e)},k=function(a){for(var b=a.getAttribute("attr-type"),c=document.getElementsByClassName("fba-content-compliment"),d=document.getElementsByClassName("fba-content-complaint"),e=document.getElementsByClassName("fba-content-suggestion"),f=document.getElementsByClassName("fba-content-"+b),g=0,h=c.length;h>g;g++)c[g].classList.add("fba-hidden");for(var g=0,h=d.length;h>g;g++)d[g].classList.add("fba-hidden");for(var g=0,h=e.length;h>g;g++)e[g].classList.add("fba-hidden");for(var g=0,h=f.length;h>g;g++)f[g].classList.remove("fba-hidden");

"suggestion"===b?(document.getElementById("fba-btn-submit-suggestion").classList.add("fba-hidden"),document.getElementById("fba-panel-feedback-additional").classList.add("active"),document.getElementById("fba-panel-feedback-additional").classList.add("suggestion-only"),document.getElementById("fba-suggestion-improve-error-container").classList.add("fba-hidden")):(document.getElementById("fba-panel-feedback-additional").classList.remove("active"),document.getElementById("fba-panel-feedback-additional").classList.remove("suggestion-only"))},l=function(){for(var a="single-navigation",b=document.getElementById(a).getElementsByTagName("button"),c=0,d=b.length;d>c;c++){var e=b[c];e.addEventListener("click",function(){m(this)})}},m=function(a){q();var b="panel-navigation",c=document.getElementById(b);document.getElementById("single-navigation").classList.add("fba-hidden"),document.getElementById("fba-panel-mobile-navigation").classList.remove("fba-hidden"),document.getElementById("fba-modal-wrapper").classList.add("open");var d=a.getAttribute("id")+"-panel",e=c.querySelector("#"+d);e.click(),document.getElementById("fba-panel-mobile-navigation").classList.add("fba-hidden");var f=window.innerWidth>0?window.innerWidth:screen.width;768>f&&document.getElementById("fba-panel-mobile-navigation").classList.remove("fba-hidden"),caBoootstrapCore.applets.panelFeedbackAdditional.addSrcToIframe()},n=function(a){for(var b=document.getElementById(a).getElementsByTagName("button"),c=0,d=b.length;d>c;c++){var e=b[c];e.addEventListener("click",function(){o(this,a)})}},o=function(a,b){if(a.classList.contains("fba-close-button")===!0)e();else{if(navigator.userAgent.indexOf("Android")>=0||navigator.userAgent.indexOf("iPhone")>=0){"fba-panel-mobile-navigation"===b&&caBoootstrapCore.applets.panelFeedbackAdditional.fixLongContentScroll(!0);var c=a.getAttribute("attr-panel-id"),d=document.getElementById(c).getElementsByTagName("textarea");caBoootstrapCore.functions.common.focusElement(d[0].getAttribute("id"))}var f="panel-navigation",g=document.getElementById(f);document.getElementById("fba-panel-mobile-navigation").classList.add("fba-hidden");var h=a.getAttribute("common-id"),i=g.querySelector("#"+h+"-panel");i.click()}},p=function(a){if(a===!0)document.body.classList.add("fba-disable-scrolling"),document.head.insertAdjacentHTML("beforeEnd",'<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=0" data-fba-id="onegov"/>'),document.getElementsByTagName("head").innerText=document.head.innerHTML;else{document.body.classList.remove("fba-disable-scrolling");var b=document.querySelector('meta[data-fba-id="onegov"]');b.parentNode.removeChild(b)}},q=function(){try{var b=document.getElementById("onegov-feedback-assist-modal");a=Array.prototype.filter.call(document.all,function(a){return a.tabIndex>-1&&!s(b,a)}).map(function(a){var b=a.tabIndex;return a.tabIndex=-1,function(){a.tabIndex=b}})}catch(c){console.log(c.message)}},r=function(){a&&a.forEach(function(a){a()}),a=null},s=function(a,b){do if(b===a)return!0;while(b=b.parentNode);return!1};return{init:b}}(),caBoootstrapCore.applets.panelFeedbackAdditional=function(){"use strict";var a=!1,b=!1,c=function(){d(),g(),j(),n()},d=function(){var a=document.getElementById("fba-btn-submit-additional");a.addEventListener("click",function(){f()});var b=document.getElementById("fba-btn-submit-Back");b.addEventListener("click",function(){e()})},e=function(){var a="fba-panel-mobile-top-navigation",b=(document.getElementById(a),document.getElementById(a).querySelectorAll("button.active")),c=b[0].getAttribute("common-id");"fba-nav-btn-compliment"===c?(caBoootstrapCore.applets.panelFeedbackAdditional.fixLongContentScroll(!0),document.getElementById("fba-panel-feedback-additional").classList.remove("active"),document.getElementById("fba-panel-feedback-compliment").classList.add("active"),document.getElementById("fba-compliment-what-went-well-error-container").classList.add("fba-hidden"),caBoootstrapCore.functions.common.focusElement("fba-compliment-what-went-well")):"fba-nav-btn-complaint"===c?(caBoootstrapCore.applets.panelFeedbackAdditional.fixLongContentScroll(!0),document.getElementById("fba-panel-feedback-additional").classList.remove("active"),document.getElementById("fba-panel-feedback-complaint").classList.add("active"),document.getElementById("fba-compliment-what-went-well-error-container").classList.add("fba-hidden"),caBoootstrapCore.functions.common.focusElement("fba-complaint-what-went-wrong")):(caBoootstrapCore.applets.panelFeedbackAdditional.fixLongContentScroll(!0),document.getElementById("fba-panel-feedback-additional").classList.remove("active"),document.getElementById("fba-panel-feedback-additional").classList.remove("suggestion-only"),document.getElementById("fba-panel-feedback-suggestion").classList.add("active"),document.getElementById("fba-suggestion-improve-error-container").classList.add("fba-hidden"),caBoootstrapCore.functions.common.focusElement("fba-suggestion-improve"))},f=function(){var c=!0,d="fba-panel-mobile-top-navigation",e=(document.getElementById(d),document.getElementById(d).querySelectorAll("button.active")),f=e[0].getAttribute("common-id");if("fba-nav-btn-suggestion"===f){var g=caBoootstrapCore.functions.validation.isEmpty("fba-suggestion-improve");if(g===!0)return document.getElementById("fba-suggestion-improve-error-container").classList.remove("fba-hidden"),caBoootstrapCore.functions.common.focusElement("fba-suggestion-improve",!0),void(c=!1);document.getElementById("fba-suggestion-improve-error-container").classList.add("fba-hidden"),c=!0}var h=caBoootstrapCore.functions.validation.isRadioSelected("ResponseOption");h===!1?(document.getElementById("fba-response-validation-container").classList.remove("fba-hidden"),c=!1,caBoootstrapCore.functions.common.focusElement("fba-btn-response-no",!0)):(document.getElementById("fba-response-validation-container").classList.add("fba-hidden"),c=!0);var j=document.getElementById("fba-textbox-location");if(null!=j&&b===!1&&""!==document.getElementById("fba-textbox-location").value)return void document.getElementById("fba-location-validation-container").classList.remove("fba-hidden");if(a===!0){var k=caBoootstrapCore.functions.validation.isEmpty("fba-contact-name");if(k===!0)return document.getElementById("fba-contact-name-required-validation-container").classList.remove("fba-hidden"),c=!1,void caBoootstrapCore.functions.common.focusElement("fba-contact-name",!0);document.getElementById("fba-contact-name-required-validation-container").classList.add("fba-hidden");var l=caBoootstrapCore.functions.validation.isEmpty("fba-contact-email"),m=caBoootstrapCore.functions.validation.isEmpty("fba-contact-phone"),n=!0;if(l===!0&&m===!0&&(n=!1,c=!1),n===!1)return document.getElementById("fba-contact-required-validation-container").classList.remove("fba-hidden"),void caBoootstrapCore.functions.common.focusElement("fba-contact-email",!0);if(document.getElementById("fba-contact-required-validation-container").classList.add("fba-hidden"),l===!1){var o=caBoootstrapCore.functions.validation.isEmailValid(document.getElementById("fba-contact-email").value);if(o===!1)return c=!1,document.getElementById("fba-contact-email-required-validation-container").classList.remove("fba-hidden"),void caBoootstrapCore.functions.common.focusElement("fba-contact-email",!0);document.getElementById("fba-contact-email-required-validation-container").classList.add("fba-hidden")}else document.getElementById("fba-contact-email-required-validation-container").classList.add("fba-hidden");if(m===!1){var p=caBoootstrapCore.functions.validation.isNumeric(document.getElementById("fba-contact-phone").value);if(p===!1)return c=!1,document.getElementById("fba-contact-phone-required-validation-container").classList.remove("fba-hidden"),void caBoootstrapCore.functions.common.focusElement("fba-contact-phone",!0);document.getElementById("fba-contact-phone-required-validation-container").classList.add("fba-hidden")}else document.getElementById("fba-contact-phone-required-validation-container").classList.add("fba-hidden")}return c===!1?!1:(document.getElementById("fba-btn-submit-Back").classList.add("fba-hidden"),document.getElementById("fba-btn-submit-additional").classList.add("fba-hidden"),i(function(){}),void 0)},g=function(){for(var b=document.getElementsByName("ResponseOption"),c=0,d=b.length;d>c;c++)b[c].onclick=function(){var b=this.value;document.getElementById("fba-response-validation-container").classList.add("fba-hidden"),"yes"===b?(document.getElementById("fba-response-contact-form").classList.remove("fba-hidden"),a=!0):(document.getElementById("fba-response-contact-form").classList.add("fba-hidden"),a=!1,h()),caBoootstrapCore.functions.common.detectBrowserHeightToFitForWidget(645)}},h=function(){document.getElementById("fba-contact-name").value="",document.getElementById("fba-contact-email").value="",document.getElementById("fba-contact-phone").value="",document.getElementById("fba-contact-name-required-validation-container").classList.add("fba-hidden"),document.getElementById("fba-contact-email-required-validation-container").classList.add("fba-hidden"),document.getElementById("fba-contact-phone-required-validation-container").classList.add("fba-hidden"),document.getElementById("fba-contact-required-validation-container").classList.add("fba-hidden");var a=document.getElementById("fba-location-validation-container");null!=a&&a.classList.add("fba-hidden")},i=function(a){try{if(""!=document.getElementById("fba-contact-name").value){var b=document.getElementById("fba-contact-name").value;b=caBoootstrapCore.functions.common.CamelCase(b).replace(/  +/g," "),document.getElementById("fba-contact-name").value=b}document.getElementById("fba-img-loading").classList.remove("fba-hidden");var c=new FormData(document.getElementById("fba-onegov-feedback-form")),d=new XMLHttpRequest,e=caBoootstrapCore.settings.sendCase,f=caBoootstrapCore.settings.clientDoamin;e+="?DOMAIN="+f,d.open("POST",e,!0),d.onreadystatechange=function(){try{if(4==this.readyState&&200===this.status){var b=JSON.parse(this.responseText);document.getElementById("fba-response-send-case").innerHTML=b.responseText,document.getElementById("fba-response-send-case").classList.remove("fba-hidden"),document.querySelectorAll(".fba-panel.fba-panel-child.active")[0].classList.remove("active"),document.getElementById("fba-img-loading").classList.add("fba-hidden"),a(),document.getElementById("fba-btn-submit-additional").classList.remove("fba-hidden"),document.getElementById("fba-panel-feedback-additional").classList.remove("suggestion-only"),document.getElementById("fba-panel-feedback-additional").classList.remove("active"),document.getElementById("fba-btn-submit-Back").classList.remove("fba-hidden"),document.getElementById("fba-btn-submit-suggestion").classList.remove("fba-hidden");var c=document.querySelectorAll("#fba-response-send-case .fm-case-response h2")[0];void 0!=c&&(c.tabIndex=0,c.focus())}}catch(d){}};var g=caBoootstrapCore.functions.common.createGUID_HASH();d.setRequestHeader("MAC",g),d.send(c)}catch(h){}},j=function(){window.addEventListener("message",function(a){var c=a.data;"iframeheight"===c.type&&(document.getElementById("fba-iframe-autocomplete").style.cssText="height:"+c.height+"!important"),"selectValue"===c.type&&(caBoootstrapCore.functions.common.focusElement("fba-textbox-location",!1),l(),b=c.selected,document.getElementById("fba-textbox-location").value=c.value),"hideiFrame"===c.type&&(document.getElementById("fba-textbox-location").classList.remove("focus"),document.getElementById("fba-textbox-location").value=c.value,l()),"focusLastElement"===c.type&&(window.setTimeout(function(){document.getElementById("fba-textbox-location").classList.remove("focus")},150),caBoootstrapCore.functions.common.focusElement("fba-compliment-add-description",!1))})},k=function(a){var b=document.getElementById("fba-iframe-autocomplete");window.setTimeout(function(){if(null!=b){b.classList.remove("fba-hidden");var c={type:"focustextbox",iframeheight:a.offsetHeight,height:a.offsetHeight-20,width:a.offsetWidth};b.contentWindow.postMessage(c,"*"),document.getElementById("fba-textbox-location").value="",document.getElementById("fba-textbox-location").classList.add("focus")}},100)},l=function(){document.getElementById("fba-iframe-autocomplete").classList.add("fba-hidden")},m=function(){o();for(var a=document.getElementById("onegov-feedback-assist-modal").querySelectorAll('input[type="text"]'),b=0,c=a.length;c>b;b++)a[b].value="";for(var d=document.getElementById("onegov-feedback-assist-modal").getElementsByTagName("textarea"),b=0,c=d.length;c>b;b++)d[b].value="";document.getElementById("fba-btn-response-yes").checked=!1,document.getElementById("fba-btn-response-no").checked=!1,document.getElementById("fba-response-contact-form").classList.add("fba-hidden"),document.getElementById("fba-compliment-attachment-file").value="";var e=document.getElementsByClassName("fm-feedback_recommendations");for(b=0;b<e.length;b++)e[b].innerHTML="";document.getElementById("fba-response-send-case").classList.add("fba-hidden"),document.getElementById("fba-response-send-case").innerHTML="",document.getElementById("fba-btn-submit-additional").classList.remove("fba-hidden"),document.getElementById("fba-btn-submit-suggestion").classList.remove("fba-hidden"),document.getElementById("fba-compliment-what-went-well-error-container").classList.add("fba-hidden"),document.getElementById("fba-response-validation-container").classList.add("fba-hidden"),document.getElementById("fba-compliment-attachment-extension-validation").classList.add("fba-hidden"),document.getElementById("fba-complaint-what-went-wrong-error-container").classList.add("fba-hidden"),document.getElementById("fba-suggestion-improve-error-container").classList.add("fba-hidden"),caBoootstrapCore.functions.validation.resetLengthValidaton(),h()},n=function(){document.getElementById("fba-img-loading").setAttribute("src",caBoootstrapCore.settings.imgLoading)},o=function(){var a=document.getElementById("fba-iframe-autocomplete");if(null!=a){var b={type:"cleartextbox"};a.contentWindow.postMessage(b,"*")}},p=function(a){a===!0?document.getElementById("fba-modal-open").classList.add("long-content-scroll"):document.getElementById("fba-modal-open").classList.remove("long-content-scroll")},q=function(){var a=document.getElementById("fba-iframe-autocomplete");if(null!=a){var b=a.getAttribute("src");""===b&&a.setAttribute("src",caBoootstrapCore.settings.autoCompleteIframe)}};return{init:c,showIframe:k,postDataToServer:i,resetForm:m,fixLongContentScroll:p,addSrcToIframe:q}}(),caBoootstrapCore.applets.panelFeedbackComplaint=function(){"use strict";var a=function(){b()},b=function(){var a=document.getElementById("fba-btn-next-complaint");a.addEventListener("click",function(){c()})},c=function(){var a=caBoootstrapCore.functions.validation.isEmpty("fba-complaint-what-went-wrong");a===!0?(document.getElementById("fba-complaint-what-went-wrong-error-container").classList.remove("fba-hidden"),caBoootstrapCore.functions.common.focusElement("fba-complaint-what-went-wrong",!0)):(caBoootstrapCore.applets.panelFeedbackAdditional.fixLongContentScroll(!0),document.getElementById("fba-panel-feedback-complaint").classList.remove("active"),document.getElementById("fba-panel-feedback-additional").classList.add("active"),document.getElementById("fba-complaint-what-went-wrong-error-container").classList.add("fba-hidden"),caBoootstrapCore.functions.common.focusElement("fba-compliment-add-description"))};return{init:a}}(),caBoootstrapCore.applets.panelFeedbackCompliment=function(){"use strict";var a=function(){b()},b=function(){var a=document.getElementById("fba-btn-next-compliment");a.addEventListener("click",function(){c()})},c=function(){var a=caBoootstrapCore.functions.validation.isEmpty("fba-compliment-what-went-well");a===!0?(document.getElementById("fba-compliment-what-went-well-error-container").classList.remove("fba-hidden"),caBoootstrapCore.functions.common.focusElement("fba-compliment-what-went-well",!0)):(caBoootstrapCore.applets.panelFeedbackAdditional.fixLongContentScroll(!0),document.getElementById("fba-panel-feedback-compliment").classList.remove("active"),document.getElementById("fba-panel-feedback-additional").classList.add("active"),document.getElementById("fba-compliment-what-went-well-error-container").classList.add("fba-hidden"),caBoootstrapCore.functions.common.focusElement("fba-compliment-add-description"))};return{init:a}}(),caBoootstrapCore.applets.panelFeedbackSuggestion=function(){"use strict";var a=function(){b()},b=function(){var a=document.getElementById("fba-btn-submit-suggestion");a.addEventListener("click",function(){c()})},c=function(){var a=caBoootstrapCore.functions.validation.isEmpty("fba-suggestion-improve");a===!0?(document.getElementById("fba-suggestion-improve-error-container").classList.remove("fba-hidden"),caBoootstrapCore.functions.common.focusElement("fba-suggestion-improve",!0)):(document.getElementById("fba-btn-submit-suggestion").classList.add("fba-hidden"),caBoootstrapCore.applets.panelFeedbackAdditional.postDataToServer(function(){document.getElementById("fba-suggestion-improve-error-container").classList.add("fba-hidden")}))};return{init:a}}(),this.caBoootstrapCore=this.caBoootstrapCore||{},this.caBoootstrapCore.Templates=this.caBoootstrapCore.Templates||{},this.caBoootstrapCore.Templates["components/contact-navigation"]=Handlebars.template({1:function(a,b,c,d,e){var f,g=null!=b?b:a.nullContext||{},h=c.helperMissing;return'<button aria-label="feedback forms" attr-panel-id="fba-panel-feedback" class="active" role="tab" aria-controls="fba-panel-feedback" aria-selected="true" tabindex="-1"><i class="fba-fa fba-faid-card" aria-hidden="true"></i></button>'+(null!=(f=(c.is||b&&b.is||h).call(g,null!=b?b.Email_Active__c:b,!0,{name:"is",hash:{},fn:a.program(2,e,0),inverse:a.noop,data:e}))?f:"")+(null!=(f=(c.is||b&&b.is||h).call(g,null!=b?b.Phone_Active__c:b,!0,{name:"is",hash:{},fn:a.program(4,e,0),inverse:a.noop,data:e}))?f:"")+(null!=(f=(c.is||b&&b.is||h).call(g,null!=b?b.Chat_Active__c:b,!0,{name:"is",hash:{},fn:a.program(6,e,0),inverse:a.noop,data:e}))?f:"")+(null!=(f=(c.is||b&&b.is||h).call(g,null!=b?b.Facebook_Active__c:b,!0,{name:"is",hash:{},fn:a.program(8,e,0),inverse:a.noop,data:e}))?f:"")+(null!=(f=(c.is||b&&b.is||h).call(g,null!=b?b.Twitter_Active__c:b,!0,{name:"is",hash:{},fn:a.program(10,e,0),inverse:a.noop,data:e}))?f:"")},2:function(){return'<button aria-label="email" role="tab" attr-panel-id="fba-panel-email" aria-controls="fba-panel-email" aria-selected="false" tabindex="-1"><i class="fba-fa fba-faenvelope" aria-hidden="true"></i></button>'},4:function(){return'<button aria-label="phone" role="tab" attr-panel-id="fba-panel-phone" aria-controls="fba-panel-phone" aria-selected="false" tabindex="-1"><i class="fba-fa fba-faphone" aria-hidden="true"></i></button>'},6:function(){return'<button id="fba-chatTabButton" aria-label="chat" role="tab" attr-panel-id="fba-panel-chat" aria-controls="fba-panel-chat" aria-selected="false"  tabindex="-1"><i class="fba-fa fba-facomment" aria-hidden="true"></i></button>'},8:function(){return'<button aria-label="facebook"  role="tab" attr-panel-id="fba-panel-facebook" aria-controls="facebook-tab" aria-selected="false" tabindex="-1"><i class="fba-fa fba-fafacebook" aria-hidden="true"></i></button>'},10:function(){return'<button aria-label="twitter" role="tab" attr-panel-id="fba-panel-twitter" aria-controls="twitter-tab" aria-selected="false" tabindex="-1"><i class="fba-fa fba-fatwitter" aria-hidden="true"></i></button>'},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<script id="template-contact-navigation" type="text/x-handlebars-template"><div id="fba-contact-navigation" role="tablist">'+(null!=(f=c["with"].call(null!=b?b:a.nullContext||{},null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+"</div></script>"},useData:!0}),this.caBoootstrapCore.Templates["components/navigation"]=Handlebars.template({1:function(a,b,c,d,e){var f;return'id="'+a.escapeExpression((f=null!=(f=c.id||(null!=b?b.id:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"id",hash:{},data:e}):f))+'"'},3:function(a,b,c,d,e,f,g){var h,i,j=null!=b?b:a.nullContext||{},k=c.helperMissing;return'<div class="fba-nav-label fba-db-secondary-color"><h1 tabindex="0" '+(null!=(h=(c.is||b&&b.is||k).call(j,null!=g[1]?g[1].id:g[1],"panel-navigation",{name:"is",hash:{},fn:a.program(4,e,0,f,g),inverse:a.program(6,e,0,f,g),data:e}))?h:"")+">"+a.escapeExpression((i=null!=(i=c.Tab_Text__c||(null!=b?b.Tab_Text__c:b))?i:k,"function"==typeof i?i.call(j,{name:"Tab_Text__c",hash:{},data:e}):i))+'</h1></div><div class="fba-nav fba-db-primary-color" role="tablist" aria-label="Your Feedback"><button aria-label="Give us a compliment" title="Give us a compliment" common-id="fba-nav-btn-compliment" attr-panel-id="fba-panel-feedback-compliment" attr-type="compliment" role="tab" aria-controls="fba-panel-feedback-compliment" '+(null!=(h=(c.is||b&&b.is||k).call(j,null!=g[1]?g[1].id:g[1],"panel-navigation",{name:"is",hash:{},fn:a.program(8,e,0,f,g),inverse:a.program(10,e,0,f,g),data:e}))?h:"")+'><i class="fba-fa fba-fasmile-o" aria-hidden="true"></i></button><button aria-label="Tell us about your complaint" common-id="fba-nav-btn-complaint" class="fba-btn-complaint" title="Tell us about your complaint" attr-panel-id="fba-panel-feedback-complaint" attr-type="complaint" role="tab" aria-controls="fba-panel-feedback-complaint" aria-selected="false" '+(null!=(h=(c.is||b&&b.is||k).call(j,null!=g[1]?g[1].id:g[1],"panel-navigation",{name:"is",hash:{},fn:a.program(12,e,0,f,g),inverse:a.program(14,e,0,f,g),data:e}))?h:"")+'><i class="fba-fa fba-fafrown-o" aria-hidden="true"></i></button><button aria-label="Make a suggestion" common-id="fba-nav-btn-suggestion" class="fba-btn-suggestion" title="Make a suggestion" attr-panel-id="fba-panel-feedback-suggestion" attr-type="suggestion" role="tab" aria-controls="fba-panel-feedback-suggestion" aria-selected="false" '+(null!=(h=(c.is||b&&b.is||k).call(j,null!=g[1]?g[1].id:g[1],"panel-navigation",{name:"is",hash:{},fn:a.program(16,e,0,f,g),inverse:a.program(18,e,0,f,g),data:e}))?h:"")+'><i class="fba-fa fba-falightbulb-o" aria-hidden="true"></i></button></div>'},4:function(){return'id="fba-title-feedback-nav-panel"'},6:function(){return'id="fba-title-feedback-nav"'},8:function(){return'id="fba-nav-btn-compliment-panel" class="fba-btn-compliment active" aria-selected="true" tabindex="0"'},10:function(){return'id="fba-nav-btn-compliment" class="fba-btn-compliment" aria-selected="false"'},12:function(){return'id="fba-nav-btn-complaint-panel"'},14:function(){return'id="fba-nav-btn-complaint"'},16:function(){return'id="fba-nav-btn-suggestion-panel"'},18:function(){return'id="fba-nav-btn-suggestion"'},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e,f,g){var h,i=null!=b?b:a.nullContext||{};return'<script id="template-navigation" type="text/x-handlebars-template"><div class="fba-navigation" '+(null!=(h=c["if"].call(i,null!=b?b.id:b,{name:"if",hash:{},fn:a.program(1,e,0,f,g),inverse:a.noop,data:e}))?h:"")+">"+(null!=(h=c["with"].call(i,null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(3,e,0,f,g),inverse:a.noop,data:e}))?h:"")+"</div></script>"},useData:!0,useDepths:!0}),this.caBoootstrapCore.Templates["elements/checkbox"]=Handlebars.template({1:function(a,b,c,d,e){var f;return'id="'+a.escapeExpression((f=null!=(f=c.id||(null!=b?b.id:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"id",hash:{},data:e}):f))+'"'},3:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing;return'id="checkbox-'+a.escapeExpression((g=null!=(g=c.rowId||(null!=b?b.rowId:b))?g:i,"function"==typeof g?g.call(h,{name:"rowId",hash:{},data:e}):g))+"-"+(null!=(f=(c.makeIdFromText||b&&b.makeIdFromText||i).call(h,null!=b?b.label:b,{name:"makeIdFromText",hash:{},fn:a.program(4,e,0),inverse:a.noop,data:e}))?f:"")+'"'},4:function(){return""},6:function(a,b,c,d,e){var f;return a.escapeExpression((f=null!=(f=c["class"]||(null!=b?b["class"]:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"class",hash:{},data:e}):f))},8:function(){return'checked="checked"'},10:function(a,b,c,d,e){var f;return'data-row-id="'+a.escapeExpression((f=null!=(f=c.rowId||(null!=b?b.rowId:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"rowId",hash:{},data:e}):f))+'"'},12:function(a,b,c,d,e){var f;return(null!=(f=(c.is||b&&b.is||c.helperMissing).call(null!=b?b:a.nullContext||{},null!=b?b.rowId:b,0,{name:"is",hash:{},fn:a.program(13,e,0),inverse:a.noop,data:e}))?f:"")+" "},13:function(){return'data-row-id="0" '},15:function(a,b,c,d,e){var f;return'data-control-id="'+a.escapeExpression((f=null!=(f=c.controlId||(null!=b?b.controlId:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"controlId",hash:{},data:e}):f))+'" '},17:function(a,b,c,d,e){var f;return'data-control-name="'+a.escapeExpression((f=null!=(f=c.dataControlName||(null!=b?b.dataControlName:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"dataControlName",hash:{},data:e}):f))+'" '},19:function(a,b,c,d,e){var f;return'data-original-value="'+a.escapeExpression((f=null!=(f=c.originalValue||(null!=b?b.originalValue:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"originalValue",hash:{},data:e}):f))+'" '},21:function(a,b,c,d,e){var f;return a.escapeExpression((f=null!=(f=c.id||(null!=b?b.id:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"id",hash:{},data:e}):f))},23:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing;return"checkbox-"+a.escapeExpression((g=null!=(g=c.rowId||(null!=b?b.rowId:b))?g:i,"function"==typeof g?g.call(h,{name:"rowId",hash:{},data:e}):g))+"-"+(null!=(f=(c.makeIdFromText||b&&b.makeIdFromText||i).call(h,null!=b?b.label:b,{name:"makeIdFromText",hash:{},fn:a.program(4,e,0),inverse:a.noop,data:e}))?f:"")},25:function(a,b,c,d,e){var f;return"<br><small>"+a.escapeExpression((f=null!=(f=c.description||(null!=b?b.description:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"description",hash:{},data:e}):f))+"</small>"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing,j="function",k=a.escapeExpression;return'<script id="checkbox-template" type="text/x-handlebars-template"><div class="checkbox checkbox-'+k((g=null!=(g=c.type||(null!=b?b.type:b))?g:i,typeof g===j?g.call(h,{name:"type",hash:{},data:e}):g))+'"><input '+(null!=(f=c["if"].call(h,null!=b?b.id:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.program(3,e,0),data:e}))?f:"")+' class="styled styled-checkbox '+(null!=(f=c["if"].call(h,null!=b?b["class"]:b,{name:"if",hash:{},fn:a.program(6,e,0),inverse:a.noop,data:e}))?f:"")+'" type="checkbox" '+(null!=(f=(c.is||b&&b.is||i).call(h,null!=b?b.isChecked:b,"Y",{name:"is",hash:{},fn:a.program(8,e,0),inverse:a.noop,data:e}))?f:"")+" "+(null!=(f=c["if"].call(h,null!=b?b.rowId:b,{name:"if",hash:{},fn:a.program(10,e,0),inverse:a.program(12,e,0),data:e}))?f:"")+(null!=(f=c["if"].call(h,null!=b?b.controlId:b,{name:"if",hash:{},fn:a.program(15,e,0),inverse:a.noop,data:e}))?f:"")+(null!=(f=c["if"].call(h,null!=b?b.dataControlName:b,{name:"if",hash:{},fn:a.program(17,e,0),inverse:a.noop,data:e}))?f:"")+(null!=(f=c["if"].call(h,null!=b?b.originalValue:b,{name:"if",hash:{},fn:a.program(19,e,0),inverse:a.noop,data:e}))?f:"")+' ><label for="'+(null!=(f=c["if"].call(h,null!=b?b.id:b,{name:"if",hash:{},fn:a.program(21,e,0),inverse:a.program(23,e,0),data:e}))?f:"")+'">'+k((g=null!=(g=c.label||(null!=b?b.label:b))?g:i,typeof g===j?g.call(h,{name:"label",hash:{},data:e}):g))+(null!=(f=c["if"].call(h,null!=b?b.description:b,{name:"if",hash:{},fn:a.program(25,e,0),inverse:a.noop,data:e}))?f:"")+"</label></div></script>"},useData:!0}),this.caBoootstrapCore.Templates["elements/datepicker"]=Handlebars.template({1:function(a,b,c,d,e){var f;return'required data-required-error="'+a.escapeExpression((f=null!=(f=c.dataRequiredError||(null!=b?b.dataRequiredError:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"dataRequiredError",hash:{},data:e}):f))+'"'},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing,j="function",k=a.escapeExpression;return'<script id="datepicker-template" type="text/x-handlebars-template"><div class=\'input-group date gls-date-time-picker\' ><input type=\'text\' class="form-control" id="'+k((g=null!=(g=c.id||(null!=b?b.id:b))?g:i,typeof g===j?g.call(h,{name:"id",hash:{},data:e}):g))+'" data-control-name="'+k((g=null!=(g=c.controlName||(null!=b?b.controlName:b))?g:i,typeof g===j?g.call(h,{name:"controlName",hash:{},data:e}):g))+'" '+(null!=(f=(c.is||b&&b.is||i).call(h,null!=b?b.dataRequired:b,"true",{name:"is",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+' data-original-value=""/><span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span></div></script>'},useData:!0}),this.caBoootstrapCore.Templates["elements/radio"]=Handlebars.template({1:function(){return""},3:function(a,b,c,d,e){var f;return a.escapeExpression((f=null!=(f=c["class"]||(null!=b?b["class"]:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"class",hash:{},data:e}):f))},5:function(a,b,c,d,e){var f;return'name="'+a.escapeExpression((f=null!=(f=c.group||(null!=b?b.group:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"group",hash:{},data:e}):f))+'"'},7:function(){return'checked="checked"'},9:function(a,b,c,d,e){var f;return'data-row-id="'+a.escapeExpression((f=null!=(f=c.rowId||(null!=b?b.rowId:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"rowId",hash:{},data:e}):f))+'"'},11:function(a,b,c,d,e){var f;return(null!=(f=(c.is||b&&b.is||c.helperMissing).call(null!=b?b:a.nullContext||{},null!=b?b.rowId:b,0,{name:"is",hash:{},fn:a.program(12,e,0),inverse:a.noop,data:e}))?f:"")+" "},12:function(){return'data-row-id="0" '},14:function(a,b,c,d,e){var f;return"<br><small>"+a.escapeExpression((f=null!=(f=c.description||(null!=b?b.description:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"description",hash:{},data:e}):f))+"</small>"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing,j="function",k=a.escapeExpression;return'<script id="radio-template" type="text/x-handlebars-template"><div class="radio radio-'+k((g=null!=(g=c.type||(null!=b?b.type:b))?g:i,typeof g===j?g.call(h,{name:"type",hash:{},data:e}):g))+'"><input id="radio-'+k((g=null!=(g=c.rowId||(null!=b?b.rowId:b))?g:i,typeof g===j?g.call(h,{name:"rowId",hash:{},data:e}):g))+"-"+(null!=(f=(c.makeIdFromText||b&&b.makeIdFromText||i).call(h,null!=b?b.label:b,{name:"makeIdFromText",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'" class="styled styled-radio '+(null!=(f=c["if"].call(h,null!=b?b["class"]:b,{name:"if",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+'"  '+(null!=(f=c["if"].call(h,null!=b?b.group:b,{name:"if",hash:{},fn:a.program(5,e,0),inverse:a.noop,data:e}))?f:"")+' type="radio" '+(null!=(f=(c.is||b&&b.is||i).call(h,null!=b?b.isChecked:b,"Y",{name:"is",hash:{},fn:a.program(7,e,0),inverse:a.noop,data:e}))?f:"")+" "+(null!=(f=c["if"].call(h,null!=b?b.rowId:b,{name:"if",hash:{},fn:a.program(9,e,0),inverse:a.program(11,e,0),data:e}))?f:"")+' tabindex="0"><label for="radio-'+k((g=null!=(g=c.rowId||(null!=b?b.rowId:b))?g:i,typeof g===j?g.call(h,{name:"rowId",hash:{},data:e}):g))+"-"+(null!=(f=(c.makeIdFromText||b&&b.makeIdFromText||i).call(h,null!=b?b.label:b,{
name:"makeIdFromText",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'">'+k((g=null!=(g=c.label||(null!=b?b.label:b))?g:i,typeof g===j?g.call(h,{name:"label",hash:{},data:e}):g))+(null!=(f=c["if"].call(h,null!=b?b.description:b,{name:"if",hash:{},fn:a.program(14,e,0),inverse:a.noop,data:e}))?f:"")+"</label></div></script>"},useData:!0}),this.caBoootstrapCore.Templates.feedback=Handlebars.template({1:function(a,b,c,d,e){var f=null!=b?b:a.nullContext||{},g=c.helperMissing,h=a.escapeExpression;return'<section id="onegov-feedback-assist-modal" role="main" aria-labelledby="fba-title-feedback-nav">'+h((c.renderPartial||b&&b.renderPartial||g).call(f,"components/navigation",{name:"renderPartial",hash:{jsonData:null!=b?b.configuration:b,id:"single-navigation"},data:e}))+'<div id="fba-modal-wrapper" class=""><div id="fba-modal-open" class="">'+h((c.renderPartial||b&&b.renderPartial||g).call(f,"components/navigation",{name:"renderPartial",hash:{jsonData:null!=b?b.configuration:b,id:"panel-navigation"},data:e}))+h((c.renderPartial||b&&b.renderPartial||g).call(f,"components/contact-navigation",{name:"renderPartial",hash:{jsonData:null!=b?b.configuration:b},data:e}))+h((c.renderPartial||b&&b.renderPartial||g).call(f,"panel-mobile-top-navigation",{name:"renderPartial",hash:{jsonData:null!=b?b.configuration:b,id:"panel-mobile-top-navigation"},data:e}))+'<div id="fba-panels">'+h((c.renderPartial||b&&b.renderPartial||g).call(f,"panel-feedback",{name:"renderPartial",hash:{"class":"active",jsonData:null!=b?b.configuration:b,id:"fba-panel-mobile-navigation"},data:e}))+h((c.renderPartial||b&&b.renderPartial||g).call(f,"panel-email",{name:"renderPartial",hash:{jsonData:null!=b?b.configuration:b},data:e}))+h((c.renderPartial||b&&b.renderPartial||g).call(f,"panel-phone",{name:"renderPartial",hash:{jsonData:null!=b?b.configuration:b},data:e}))+h((c.renderPartial||b&&b.renderPartial||g).call(f,"panel-chat",{name:"renderPartial",hash:{jsonData:null!=b?b.configuration:b},data:e}))+h((c.renderPartial||b&&b.renderPartial||g).call(f,"panel-facebook",{name:"renderPartial",hash:{jsonData:null!=b?b.configuration:b},data:e}))+h((c.renderPartial||b&&b.renderPartial||g).call(f,"panel-twitter",{name:"renderPartial",hash:{jsonData:null!=b?b.configuration:b},data:e}))+'</div><button id="fba-modal-close" aria-label="close feedback" title="close button" class="fba-close-button"><i class="fba-fa fba-fatimes"></i></button></div></div></section>'},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<script id="template-feed-back" type="text/x-handlebars-template">'+(null!=(f=c["with"].call(null!=b?b:a.nullContext||{},null!=b?b.appletData:b,{name:"with",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+"</script>"},useData:!0}),this.caBoootstrapCore.Templates["panel-chat"]=Handlebars.template({1:function(a,b,c,d,e){var f;return a.escapeExpression((f=null!=(f=c["class"]||(null!=b?b["class"]:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"class",hash:{},data:e}):f))},3:function(a,b,c,d,e){var f;return'<input type="hidden" id="chatURL" id="hidden-fba-chat-url" value="'+a.escapeExpression((f=null!=(f=c.Chat_URL__c||(null!=b?b.Chat_URL__c:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"Chat_URL__c",hash:{},data:e}):f))+'"><iframe id="iframeChat" title="Chat with an Agent"></iframe>'},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=null!=b?b:a.nullContext||{};return'<script id="template-panel-chat" type="text/x-handlebars-template"><div id="fba-panel-chat" class="fba-panel '+(null!=(f=c["if"].call(g,null!=b?b["class"]:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'" role="tabpanel" aria-labelledby="chat-tab"><h2 tabindex="0"><i class="fba-fa fba-facomments-o" aria-hidden="true"></i> Chat</h2>'+(null!=(f=c["with"].call(g,null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+"</div></script>"},useData:!0}),this.caBoootstrapCore.Templates["panel-email"]=Handlebars.template({1:function(a,b,c,d,e){var f;return a.escapeExpression((f=null!=(f=c["class"]||(null!=b?b["class"]:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"class",hash:{},data:e}):f))},3:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing,j="function";return'<div class="fba-panel-content"><div class="fba-content-compliment">'+(null!=(g=null!=(g=c.Email_Compliment__c||(null!=b?b.Email_Compliment__c:b))?g:i,f=typeof g===j?g.call(h,{name:"Email_Compliment__c",hash:{},data:e}):g)?f:"")+'</div><div class="fba-content-complaint fba-hidden">'+(null!=(g=null!=(g=c.Email_Complaint__c||(null!=b?b.Email_Complaint__c:b))?g:i,f=typeof g===j?g.call(h,{name:"Email_Complaint__c",hash:{},data:e}):g)?f:"")+'</div><div class="fba-content-suggestion fba-hidden">'+(null!=(g=null!=(g=c.Email_Suggestion__c||(null!=b?b.Email_Suggestion__c:b))?g:i,f=typeof g===j?g.call(h,{name:"Email_Suggestion__c",hash:{},data:e}):g)?f:"")+"</div></div>"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=null!=b?b:a.nullContext||{};return'<script id="template-panel-email" type="text/x-handlebars-template"><div id="fba-panel-email" class="fba-panel '+(null!=(f=c["if"].call(g,null!=b?b["class"]:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'" role="tabpanel" aria-labelledby="email-tab"><h2 tabindex="0"><i class="fba-fa fba-faenvelope-o" aria-hidden="true"></i> Email</h2>'+(null!=(f=c["with"].call(g,null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+"</div></script>"},useData:!0}),this.caBoootstrapCore.Templates["panel-facebook"]=Handlebars.template({1:function(a,b,c,d,e){var f;return a.escapeExpression((f=null!=(f=c["class"]||(null!=b?b["class"]:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"class",hash:{},data:e}):f))},3:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing,j="function";return'<div class="fba-panel-content"><div class="fba-content-compliment">'+(null!=(g=null!=(g=c.Facebook_Compliment__c||(null!=b?b.Facebook_Compliment__c:b))?g:i,f=typeof g===j?g.call(h,{name:"Facebook_Compliment__c",hash:{},data:e}):g)?f:"")+'</div><div class="fba-content-complaint fba-hidden">'+(null!=(g=null!=(g=c.Facebook_Complaint__c||(null!=b?b.Facebook_Complaint__c:b))?g:i,f=typeof g===j?g.call(h,{name:"Facebook_Complaint__c",hash:{},data:e}):g)?f:"")+'</div><div class="fba-content-suggestion fba-hidden">'+(null!=(g=null!=(g=c.Facebook_Suggestion__c||(null!=b?b.Facebook_Suggestion__c:b))?g:i,f=typeof g===j?g.call(h,{name:"Facebook_Suggestion__c",hash:{},data:e}):g)?f:"")+"</div></div>"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=null!=b?b:a.nullContext||{};return'<script id="template-panel-facebook" type="text/x-handlebars-template"><div id="fba-panel-facebook" class="fba-panel '+(null!=(f=c["if"].call(g,null!=b?b["class"]:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'" role="tabpanel" aria-labelledby="facebook-tab"><h2 tabindex="0"><i class="fba-fa fba-fafacebook-square" aria-hidden="true"></i> Facebook</h2>'+(null!=(f=c["with"].call(g,null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+"</div></script>"},useData:!0}),this.caBoootstrapCore.Templates["panel-feedback-additional"]=Handlebars.template({1:function(a,b,c,d,e){var f;return a.escapeExpression((f=null!=(f=c["class"]||(null!=b?b["class"]:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"class",hash:{},data:e}):f))},3:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing;return'<div class="fba-form" aria-labelledby="fba-title-feedback-additional" role="form" ><h2 id="fba-title-feedback-additional" class="type-h3" tabindex="0">You\'re almost there</h2><div class="fba-form-elements"><label for="fba-compliment-add-description">'+a.escapeExpression((g=null!=(g=c.Isthereanythingyouwouldliketoadd__c||(null!=b?b.Isthereanythingyouwouldliketoadd__c:b))?g:i,"function"==typeof g?g.call(h,{name:"Isthereanythingyouwouldliketoadd__c",hash:{},data:e}):g))+'</label><textarea class="fba-form-control" id="fba-compliment-add-description" name="description" rows="2" maxlength="3000" fba-max-length="3000"></textarea>'+(null!=(f=(c.is||b&&b.is||i).call(h,null!=b?b.Location_Active__c:b,!0,{name:"is",hash:{},fn:a.program(4,e,0),inverse:a.noop,data:e}))?f:"")+'<label for="fba-compliment-attachment-file">Attach a file <small>(document or image - max 2MB) </small></label><input id="fba-compliment-attachment-file" name="attachmentFile" type="file"  onchange="caBoootstrapCore.functions.validation.validateFile(this,\'fba-compliment-attachment-extension-validation\');"><small id="fba-compliment-attachment-file-validation" class="fba-hidden fba-validation-error">Please fill out this field to proceed</small><small id="fba-compliment-attachment-extension-validation" class="fba-hidden fba-validation-error"></small><h2 id="fba-response-heading" class="type-h4">Would you like a response?</h2><div id="fba-response-btn-group" role="radiogroup" aria-labelledby="fba-response-heading"><input aria-describedby="fba-response-validation-container" name="ResponseOption" id="fba-btn-response-yes" type="radio" value="yes"><label for="fba-btn-response-yes" class="fba-button" >Yes</label><input aria-describedby="fba-response-validation-container" name="ResponseOption" id="fba-btn-response-no" type="radio" value="no"><label for="fba-btn-response-no" class="fba-button" >No</label></div><div id="fba-response-validation-container" class="fba-hidden"><small id="fba-response-required-validation" class="fba-validation-error">Please indicate if you would like a response</small></div><div id="fba-response-contact-form" class="fba-hidden"><label for="fba-contact-name" class="fba-visually-hidden">Contact Name </label><input aria-describedby="fba-contact-name-required-validation-container" class="fba-form-control fba-text-capitalize" id="fba-contact-name" name="infoContactName" type="text" placeholder="Contact Name" maxlength="80" aria-invalid="false"><div id="fba-contact-name-required-validation-container" class="fba-validation-error fba-hidden">Please fill out this field to proceed</div><br><label for="fba-contact-email" class="fba-visually-hidden">Email Address</label><input aria-describedby="fba-contact-email-required-validation-container" class="fba-form-control" id="fba-contact-email" name="infoContactEmail" type="text" placeholder="Email Address" maxlength="100" aria-invalid="false"><div id="fba-contact-email-required-validation-container" class="fba-validation-error fba-hidden">Email address is invalid, please try again</div><br><label for="fba-contact-phone" class="fba-visually-hidden">Phone Number</label><input aria-describedby="fba-contact-phone-required-validation-container" class="fba-form-control" id="fba-contact-phone" name="infoContactPhone" type="text" placeholder="Phone Number" minlength="8" maxlength="10" aria-invalid="false"><div id="fba-contact-phone-required-validation-container" class="fba-validation-error fba-hidden">Phone number is invalid, please try again<br><br></div><div role="alert" id="fba-contact-required-validation-container" live="assertive" class="fba-validation-error fba-hidden">Please fill out either email or phone to proceed<br><br></div></div><div class="fba-privacy-message"><span class="fba-content-compliment">We will use or disclose the information you provide to direct your compliment to the right place and ensure were learning from your experience. This may include referring your information to another public-sector agency.</span><span class="fba-content-complaint fba-hidden" class="fba-hidden">We will use or disclose the information you provide to direct your complaint to the right place and ensure were learning from your experience. This may include referring your information to another public-sector agency.</span><span class="fba-content-suggestion fba-hidden" class="fba-hidden">We will use or disclose the information you provide to direct your suggestion to the right place and ensure were learning from your experience. This may include referring your information to another public-sector agency.</span></div><div class="fba-align-left"><button id="fba-btn-submit-Back" aria-label="Back" class="fba-button" type="button">Back <i class="fba-fa fba-faangle-double-right" aria-hidden="true"></i></button></div><div class="fba-align-right"><button id="fba-btn-submit-additional" aria-label="Submit" class="fba-button" type="button">Submit</button></div></div></div>'},4:function(a,b,c,d,e){var f;return"<label>"+a.escapeExpression((f=null!=(f=c.Location__c||(null!=b?b.Location__c:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"Location__c",hash:{},data:e}):f))+'</label><div id="fba-auto-complete-container"><input type="text" id="fba-textbox-location" class="fba-form-control" name="feedbackLocation" aria-label="location" placeholder="Search Location" role="combobox" aria-haspopup="false" aria-autocomplete="both"  autocomplete="off" onfocus="caBoootstrapCore.applets.panelFeedbackAdditional.showIframe(this)"><iframe src="" id="fba-iframe-autocomplete" class="fba-hidden" title="Location automoplete" role="presentation"></iframe></div><div id="fba-location-validation-container" class="fba-hidden"><small id="fba-location-required-validation" class="fba-validation-error">Please select a valid location from the list</small></div>'},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=null!=b?b:a.nullContext||{};return'<script id="template-panel-feedback-additional" type="text/x-handlebars-template"><div id="fba-panel-feedback-additional" role="tabpanel" class="fba-panel fba-panel-child '+(null!=(f=c["if"].call(g,null!=b?b["class"]:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'">'+(null!=(f=c["with"].call(g,null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+'</div><div id="fba-response-send-case"></div></script>'},useData:!0}),this.caBoootstrapCore.Templates["panel-feedback-complaint"]=Handlebars.template({1:function(a,b,c,d,e){var f;return a.escapeExpression((f=null!=(f=c["class"]||(null!=b?b["class"]:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"class",hash:{},data:e}):f))},3:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing,j="function",k=a.escapeExpression;return'<div class="fba-form" role="form" ><h2 id="fba-title-feedback-complaint" tabindex="0">Tell us about your complaint</h2><div class="fba-form-elements"><label for="fba-complaint-what-went-wrong" class="fba-required">'+k((g=null!=(g=c.Whatwentwrong__c||(null!=b?b.Whatwentwrong__c:b))?g:i,typeof g===j?g.call(h,{name:"Whatwentwrong__c",hash:{},data:e}):g))+'</label><textarea  class="fba-form-control" id="fba-complaint-what-went-wrong" name="complaintWhatWentWrong" rows="4" maxlength="3000"  fba-max-length="3000" required="" aria-invalid="false" aria-describedby="fba-complaint-what-went-wrong-error-container" onblur="caBoootstrapCore.functions.common.bindHelpEvent(this)"></textarea><div role="alert" live="assertive" id="fba-complaint-what-went-wrong-error-container" class="fba-validation-error fba-hidden">Please fill out this field to proceed</div><label for="fba-complaint-how-can-resolve">'+k((g=null!=(g=c.Howcanwehelp__c||(null!=b?b.Howcanwehelp__c:b))?g:i,typeof g===j?g.call(h,{name:"Howcanwehelp__c",hash:{},data:e}):g))+'</label><textarea class="fba-form-control" id="fba-complaint-how-can-resolve" name="complaintHowCanWeResolve" rows="4" maxlength="3000"  fba-max-length="3000"></textarea>'+(null!=(f=(c.is||b&&b.is||i).call(h,null!=b?b.HasAdditionalTxtBox__c:b,!0,{name:"is",hash:{},fn:a.program(4,e,0),inverse:a.noop,data:e}))?f:"")+'<div class="fm-feedback_recommendations"></div><div class="fba-align-right"><button id="fba-btn-next-complaint" class="fba-button" type="button" aria-label="Next">Next <i class="fba-fa fba-faangle-double-right" aria-hidden="true"></i></button></div></div>'},4:function(a,b,c,d,e){var f,g;return'<div class="fba-privacy-message fm-aditional-text"><span for="suggestion">'+(null!=(g=null!=(g=c.Additional_Text_Label__c||(null!=b?b.Additional_Text_Label__c:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:a.nullContext||{},{name:"Additional_Text_Label__c",hash:{},data:e}):g)?f:"")+"</span></div>"},6:function(a,b,c,d,e){var f,g;return null!=(g=null!=(g=c.Complaint_Response__c||(null!=b?b.Complaint_Response__c:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:a.nullContext||{},{name:"Complaint_Response__c",hash:{},data:e}):g)?f:""},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=null!=b?b:a.nullContext||{};return'<script id="template-panel-feedback-complaint" type="text/x-handlebars-template"><div id="fba-panel-feedback-complaint" role="tabpanel" class="fba-panel fba-panel-child '+(null!=(f=c["if"].call(g,null!=b?b["class"]:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'" aria-labelledby="fba-nav-btn-complaint">'+(null!=(f=c["with"].call(g,null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+'</div></div><div id="fba-complaint-response" class="fba-hidden">'+(null!=(f=c["with"].call(g,null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(6,e,0),inverse:a.noop,data:e}))?f:"")+"</div></script>"},useData:!0}),this.caBoootstrapCore.Templates["panel-feedback-compliment"]=Handlebars.template({1:function(a,b,c,d,e){var f;return a.escapeExpression((f=null!=(f=c["class"]||(null!=b?b["class"]:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"class",hash:{},data:e}):f))},3:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing,j="function",k=a.escapeExpression;return'<div class="fba-form" role="form" aria-labelledby="fba-title-feedback-compliment-1"><h2 id="fba-title-feedback-compliment-1" tabindex="-1">Give us a compliment</h2><div class="fba-form-elements"><label for="fba-compliment-what-went-well" class="fba-required">'+k((g=null!=(g=c.Whatwentwell__c||(null!=b?b.Whatwentwell__c:b))?g:i,typeof g===j?g.call(h,{name:"Whatwentwell__c",hash:{},data:e}):g))+'</label><textarea class="fba-form-control" id="fba-compliment-what-went-well" name="complimentWhatWentWell" rows="4" maxlength="3000"  fba-max-length="3000" required="" aria-invalid="false" aria-describedby="fba-compliment-what-went-well-error-container"  onblur="caBoootstrapCore.functions.common.bindHelpEvent(this)"></textarea><div role="alert" live="assertive" id="fba-compliment-what-went-well-error-container" class="fba-validation-error fba-hidden">Please fill out this field to proceed</div><label for="fba-compliment-would-like-us-to-do">'+k((g=null!=(g=c.Isthereanythingyouwouldlikeustod__c||(null!=b?b.Isthereanythingyouwouldlikeustod__c:b))?g:i,typeof g===j?g.call(h,{name:"Isthereanythingyouwouldlikeustod__c",hash:{},data:e}):g))+'</label><textarea class="fba-form-control" id="fba-compliment-would-like-us-to-do" name="complimentWouldLikeUsToDo" rows="4" maxlength="3000"  fba-max-length="3000"></textarea>'+(null!=(f=(c.is||b&&b.is||i).call(h,null!=b?b.HasAdditionalTxtBox__c:b,!0,{name:"is",hash:{},fn:a.program(4,e,0),inverse:a.noop,data:e}))?f:"")+'<div class="fm-feedback_recommendations"></div><div class="fba-align-right"><button id="fba-btn-next-compliment" aria-label="Next" class="fba-button" type="button">Next <i class="fba-fa fba-faangle-double-right" aria-hidden="true"></i></button></div></div></div>'},4:function(a,b,c,d,e){var f,g;return'<div class="fba-privacy-message fm-aditional-text"><span for="suggestion">'+(null!=(g=null!=(g=c.Additional_Text_Label__c||(null!=b?b.Additional_Text_Label__c:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:a.nullContext||{},{name:"Additional_Text_Label__c",hash:{},data:e}):g)?f:"")+"</span></div>"},6:function(a,b,c,d,e){var f,g;return null!=(g=null!=(g=c.Compliment_Response__c||(null!=b?b.Compliment_Response__c:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:a.nullContext||{},{name:"Compliment_Response__c",hash:{},data:e}):g)?f:""},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=null!=b?b:a.nullContext||{};return'<script id="template-panel-feedback-compliment" type="text/x-handlebars-template"><div id="fba-panel-feedback-compliment" role="tabpanel" class="fba-panel fba-panel-child '+(null!=(f=c["if"].call(g,null!=b?b["class"]:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'" aria-labelledby="fba-nav-btn-compliment">'+(null!=(f=c["with"].call(g,null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+'</div><div id="fba-compliment-response" class="fba-hidden">'+(null!=(f=c["with"].call(g,null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(6,e,0),inverse:a.noop,data:e}))?f:"")+"</div></script>"},useData:!0}),this.caBoootstrapCore.Templates["panel-feedback-suggestion"]=Handlebars.template({1:function(a,b,c,d,e){var f;return a.escapeExpression((f=null!=(f=c["class"]||(null!=b?b["class"]:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"class",hash:{},data:e}):f))},3:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing;return'<div class="fba-form" role="form" ><h2 id="fba-title-feedback-suggestion" tabindex="0">Make a suggestion</h2><div class="fba-form-elements"><label for="fba-suggestion-improve" class="fba-required">'+a.escapeExpression((g=null!=(g=c.Whatcanweimprove__c||(null!=b?b.Whatcanweimprove__c:b))?g:i,"function"==typeof g?g.call(h,{name:"Whatcanweimprove__c",hash:{},data:e}):g))+'</label><textarea class="fba-form-control" id="fba-suggestion-improve" name="suggestion" rows="4" maxlength="3000" required="" aria-invalid="false" aria-describedby="fba-suggestion-improve-error-container" fba-max-length="3000"  onblur="caBoootstrapCore.functions.common.bindHelpEvent(this)"></textarea><div role="alert" live="assertive" id="fba-suggestion-improve-error-container" class="fba-validation-error fba-hidden">Please fill out this field to proceed  </div>'+(null!=(f=(c.is||b&&b.is||i).call(h,null!=b?b.HasAdditionalTxtBox__c:b,!0,{name:"is",hash:{},fn:a.program(4,e,0),inverse:a.noop,data:e}))?f:"")+'<div class="fm-feedback_recommendations"></div><div class="fba-align-right"><button id="fba-btn-submit-suggestion" class="fba-button" type="button" aria-label="Submit" >Submit</button></div></div></div>'},4:function(a,b,c,d,e){var f,g;return'<div class="fba-privacy-message fm-aditional-text"><span for="suggestion">'+(null!=(g=null!=(g=c.Additional_Text_Label__c||(null!=b?b.Additional_Text_Label__c:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:a.nullContext||{},{name:"Additional_Text_Label__c",hash:{},data:e}):g)?f:"")+"</span></div>"},6:function(a,b,c,d,e){var f,g;return null!=(g=null!=(g=c.Suggestion_Response__c||(null!=b?b.Suggestion_Response__c:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:a.nullContext||{},{name:"Suggestion_Response__c",hash:{},data:e}):g)?f:""},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=null!=b?b:a.nullContext||{};return'<script id="template-panel-feedback-suggestion" type="text/x-handlebars-template"><div id="fba-panel-feedback-suggestion" role="tabpanel" class="fba-panel fba-panel-child '+(null!=(f=c["if"].call(g,null!=b?b["class"]:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'" aria-labelledby="fba-nav-btn-suggestion">'+(null!=(f=c["with"].call(g,null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+'</div><div id="fba-suggestion-response" class="fba-hidden">'+(null!=(f=c["with"].call(g,null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(6,e,0),inverse:a.noop,data:e}))?f:"")+"</div></script>"},useData:!0}),this.caBoootstrapCore.Templates["panel-feedback"]=Handlebars.template({1:function(a,b,c,d,e){var f;return a.escapeExpression((f=null!=(f=c["class"]||(null!=b?b["class"]:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"class",hash:{},data:e}):f))},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=null!=b?b:a.nullContext||{},h=a.lambda,i=a.escapeExpression,j=c.helperMissing;return'<script id="template-panel-feedback" type="text/x-handlebars-template"><div id="fba-panel-feedback" class="fba-panel '+(null!=(f=c["if"].call(g,null!=b?b["class"]:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'"><form method="post" id="fba-onegov-feedback-form" accept-charset="UTF-8" novalidate><input type="hidden" name="caseType" id="hidden-fba-case-type" value="compliment"><input type="hidden" name="pageURL" id="hidden-fba-page-url" value=""><input type="hidden" name="domainURL" id="hidden-fba-domain-url" value="'+i(h(null!=(f=null!=b?b.jsonData:b)?f.Domain__c:f,b))+'"><input type="hidden" name="feedback_latitude" id="hidden-fba-feedback-latitude" value=""><input type="hidden" name="feedback_longitude" id="hidden-fba-feedback-longitude" value=""><input type="hidden" name="feedback_RecordType" id="hidden-fba-feedback-recordType" value="'+i(h(null!=(f=null!=b?b.jsonData:b)?f.Case_Type__c:f,b))+'">'+i((c.renderPartial||b&&b.renderPartial||j).call(g,"panel-mobile-navigation",{name:"renderPartial",hash:{jsonData:null!=b?b.jsonData:b},data:e}))+i((c.renderPartial||b&&b.renderPartial||j).call(g,"panel-feedback-compliment",{name:"renderPartial",hash:{jsonData:null!=b?b.jsonData:b},data:e}))+i((c.renderPartial||b&&b.renderPartial||j).call(g,"panel-feedback-complaint",{name:"renderPartial",hash:{jsonData:null!=b?b.jsonData:b},data:e}))+i((c.renderPartial||b&&b.renderPartial||j).call(g,"panel-feedback-suggestion",{name:"renderPartial",hash:{jsonData:null!=b?b.jsonData:b},data:e}))+i((c.renderPartial||b&&b.renderPartial||j).call(g,"panel-info-LastName",{name:"renderPartial",hash:{},data:e}))+i((c.renderPartial||b&&b.renderPartial||j).call(g,"panel-feedback-additional",{name:"renderPartial",hash:{jsonData:null!=b?b.jsonData:b,"class":"active"},data:e}))+'<div class="fba-align-right"><img id="fba-img-loading" src="" class="fba-hidden" alt="loading.."/></div><button id="no-use" type="submit" class="fba-hidden" aria-label="submit feedback"></button></form></div></script>'},useData:!0}),this.caBoootstrapCore.Templates["panel-info-LastName"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(){return'<script id="template-info-LastName" type="text/x-handlebars-template"><div id="last-name-container"><label for="fba-info-last-name"></label><input class="fba-form-control" id="fba-info-last-name" name="infoContactLastName" tabindex="-1" value=""/></div></script>'},useData:!0}),this.caBoootstrapCore.Templates["panel-mobile-navigation"]=Handlebars.template({1:function(a,b,c,d,e){var f;return'<div class="fba-nav-label"><h2>'+a.escapeExpression((f=null!=(f=c.Tab_Text__c||(null!=b?b.Tab_Text__c:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"Tab_Text__c",hash:{},data:e}):f))+'</h2></div><div class="fba-nav"><button id="fba-nav-btn-compliment-mobile" common-id="fba-nav-btn-compliment" class="fba-btn-compliment active" title="Give us a compliment" attr-panel-id="fba-panel-feedback-compliment" attr-type="compliment" role="tab" aria-controls="fba-panel-feedback-compliment" aria-selected="true" type="button" tabindex="0"><i class="fba-fa fba-fasmile-o" aria-hidden="true"></i></button><p class="fba-nav-subtitle">Give us a compliment</p><button id="fba-nav-btn-complaint-mobile" common-id="fba-nav-btn-complaint" class="fba-btn-complaint" title="Tell us about your complaint" attr-panel-id="fba-panel-feedback-complaint" attr-type="complaint" role="tab" aria-controls="fba-panel-feedback-complaint" aria-selected="false" type="button" tabindex="0"><i class="fba-fa fba-fafrown-o" aria-hidden="true"></i></button><p class="fba-nav-subtitle">Tell us about your complaint</p><button id="fba-nav-btn-suggestion-mobile" common-id="fba-nav-btn-suggestion" class="fba-btn-suggestion" title="Make a suggestion" attr-panel-id="fba-panel-feedback-suggestion" attr-type="suggestion" role="tab" aria-controls="fba-panel-feedback-suggestion" aria-selected="false" type="button" tabindex="0"><i class="fba-fa fba-falightbulb-o" aria-hidden="true"></i></button><p class="fba-nav-subtitle">Make a suggestion</p></div><button id="fba-nav-modal-close" id="fba-nav-modal-close" aria-label="close feedback" type="button" title="close button" class="fba-close-button"><i class="fba-fa fba-fatimes" tabindex="0"></i></button>'},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<script id="template-navigation" type="text/x-handlebars-template"><div id="fba-panel-mobile-navigation">'+(null!=(f=c["with"].call(null!=b?b:a.nullContext||{},null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+"</div></script>"},useData:!0}),this.caBoootstrapCore.Templates["panel-mobile-top-navigation"]=Handlebars.template({1:function(){return'<div class="fba-nav"><button id="fba-nav-btn-compliment-mobile-top" common-id="fba-nav-btn-compliment" class="fba-btn-compliment active" title="Give us a compliment" attr-panel-id="fba-panel-feedback-compliment" attr-type="compliment" role="tab" aria-controls="fba-panel-feedback-compliment" aria-selected="true" type="button" tabindex="0"><i class="fba-fa fba-fasmile-o" aria-hidden="true"></i></button><button id="fba-nav-btn-complaint-mobile-top" common-id="fba-nav-btn-complaint" class="fba-btn-complaint" title="Tell us about your complaint" attr-panel-id="fba-panel-feedback-complaint" attr-type="complaint" role="tab" aria-controls="fba-panel-feedback-complaint" aria-selected="false" type="button" tabindex="0"><i class="fba-fa fba-fafrown-o" aria-hidden="true"></i></button><button id="fba-nav-btn-suggestion-mobile-top" common-id="fba-nav-btn-suggestion" class="fba-btn-suggestion" title="Make a suggestion" attr-panel-id="fba-panel-feedback-suggestion" attr-type="suggestion" role="tab" aria-controls="fba-panel-feedback-suggestion" aria-selected="false" type="button" tabindex="0"><i class="fba-fa fba-falightbulb-o" aria-hidden="true"></i></button></div><button id="fba-nav-modal-close-mobile-top" common-id="fba-nav-modal-close" aria-label="close feedback" type="button" title="close button" class="fba-close-button fba-hidden" tabindex="0"><i class="fba-fa fba-fatimes"></i></button>'},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<script id="template-mobile-top-navigation" type="text/x-handlebars-template"><div id="fba-panel-mobile-top-navigation">'+(null!=(f=c["with"].call(null!=b?b:a.nullContext||{},null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+"</div></script>"},useData:!0}),this.caBoootstrapCore.Templates["panel-phone"]=Handlebars.template({1:function(a,b,c,d,e){var f;return a.escapeExpression((f=null!=(f=c["class"]||(null!=b?b["class"]:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"class",hash:{},data:e}):f))},3:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing,j="function";return'<div class="fba-panel-content"><div class="fba-content-compliment">'+(null!=(g=null!=(g=c.Phone_Compliment__c||(null!=b?b.Phone_Compliment__c:b))?g:i,f=typeof g===j?g.call(h,{name:"Phone_Compliment__c",hash:{},data:e}):g)?f:"")+'</div><div class="fba-content-complaint fba-hidden">'+(null!=(g=null!=(g=c.Phone_Complaint__c||(null!=b?b.Phone_Complaint__c:b))?g:i,f=typeof g===j?g.call(h,{name:"Phone_Complaint__c",hash:{},data:e}):g)?f:"")+'</div><div class="fba-content-suggestion fba-hidden">'+(null!=(g=null!=(g=c.Phone_Suggestion__c||(null!=b?b.Phone_Suggestion__c:b))?g:i,f=typeof g===j?g.call(h,{name:"Phone_Suggestion__c",hash:{},data:e}):g)?f:"")+"</div></div>";

},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=null!=b?b:a.nullContext||{};return'<script id="template-panel-phone" type="text/x-handlebars-template"><div id="fba-panel-phone" class="fba-panel '+(null!=(f=c["if"].call(g,null!=b?b["class"]:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'" role="tabpanel" aria-labelledby="phone-tab"><h2 tabindex="0"><i class="fba-fa fba-faphone" aria-hidden="true"></i> Phone</h2>'+(null!=(f=c["with"].call(g,null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+"</div></script>"},useData:!0}),this.caBoootstrapCore.Templates["panel-save-me-please"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(){return'<script id="template-save-me-please" type="text/x-handlebars-template"><div id="last-name-container"><label for="fba-complaint-last-name"></label><input class="fba-form-control" id="fba-complaint-last-name" name="complaintLastName" tabindex="-1" value=""/></div></script>'},useData:!0}),this.caBoootstrapCore.Templates["panel-twitter"]=Handlebars.template({1:function(a,b,c,d,e){var f;return a.escapeExpression((f=null!=(f=c["class"]||(null!=b?b["class"]:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:a.nullContext||{},{name:"class",hash:{},data:e}):f))},3:function(a,b,c,d,e){var f,g,h=null!=b?b:a.nullContext||{},i=c.helperMissing,j="function";return'<div class="fba-panel-content"><div class="fba-content-compliment">'+(null!=(g=null!=(g=c.Twitter_Compliment__c||(null!=b?b.Twitter_Compliment__c:b))?g:i,f=typeof g===j?g.call(h,{name:"Twitter_Compliment__c",hash:{},data:e}):g)?f:"")+'</div><div class="fba-content-complaint fba-hidden">'+(null!=(g=null!=(g=c.Twitter_Complaint__c||(null!=b?b.Twitter_Complaint__c:b))?g:i,f=typeof g===j?g.call(h,{name:"Twitter_Complaint__c",hash:{},data:e}):g)?f:"")+'</div><div class="fba-content-suggestion fba-hidden">'+(null!=(g=null!=(g=c.Twitter_Suggestion__c||(null!=b?b.Twitter_Suggestion__c:b))?g:i,f=typeof g===j?g.call(h,{name:"Twitter_Suggestion__c",hash:{},data:e}):g)?f:"")+"</div></div>"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=null!=b?b:a.nullContext||{};return'<script id="template-panel-twitter" type="text/x-handlebars-template"><div id="fba-panel-twitter" class="fba-panel '+(null!=(f=c["if"].call(g,null!=b?b["class"]:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'" role="tabpanel" aria-labelledby="twitter-tab"><h2 tabindex="0" style="type-h4"><i class="fba-fa fba-fatwitter-square" aria-hidden="true"></i> Twitter</h2>'+(null!=(f=c["with"].call(g,null!=b?b.jsonData:b,{name:"with",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+"</div></script>"},useData:!0});